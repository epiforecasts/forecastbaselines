<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started with forecastbaselines • forecastbaselines</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with forecastbaselines">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">forecastbaselines</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/forecastbaselines.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/forecast-models.html">Forecasting Models Guide</a>
    </li>
    <li>
      <a href="../articles/transformations.html">Data Transformations with forecastbaselines</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/epiforecasts/forecastbaselines/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><link href="forecastbaselines_files/htmltools-fill-0.5.9/fill.css" rel="stylesheet">
<script src="forecastbaselines_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="forecastbaselines_files/plotly-binding-4.12.0/plotly.js"></script><script src="forecastbaselines_files/typedarray-0.1/typedarray.min.js"></script><link href="forecastbaselines_files/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="forecastbaselines_files/crosstalk-1.2.2/js/crosstalk.min.js"></script><link href="forecastbaselines_files/plotly-htmlwidgets-css-2.25.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="forecastbaselines_files/plotly-main-2.25.2/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started with forecastbaselines</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiforecasts/forecastbaselines/blob/main/vignettes/forecastbaselines.Rmd" class="external-link"><code>vignettes/forecastbaselines.Rmd</code></a></small>
      <div class="hidden name"><code>forecastbaselines.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><a href="https://github.com/epiforecasts/forecastbaselines" class="external-link">forecastbaselines</a> provides an R interface to the <a href="https://github.com/ManuelStapper/ForecastBaselines.jl" class="external-link">ForecastBaselines.jl</a>
Julia package, giving you access to 10 baseline forecasting models with
uncertainty quantification and evaluation tools.</p>
<p>This vignette will walk you through:</p>
<ol style="list-style-type: decimal">
<li>Installation and setup</li>
<li>Your first forecast</li>
<li>Probabilistic forecasting with prediction intervals</li>
<li>Model evaluation and scoring</li>
<li>Next steps</li>
</ol>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h3>
<p>You’ll need both Julia and R installed:</p>
<p>Julia (&gt;= 1.9)</p>
<ul>
<li>Download from <a href="https://julialang.org/downloads/" class="external-link">julialang.org</a>
</li>
<li>Verify installation: <code>julia --version</code>
</li>
</ul>
<p>R (&gt;= 3.5.0)</p>
<ul>
<li>Already installed if you’re reading this!</li>
</ul>
</div>
<div class="section level3">
<h3 id="install-forecastbaselines">Install forecastbaselines<a class="anchor" aria-label="anchor" href="#install-forecastbaselines"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"epiforecasts/forecastbaselines"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="setup-julia-backend">Setup Julia Backend<a class="anchor" aria-label="anchor" href="#setup-julia-backend"></a>
</h3>
<p>The first time you use the package, you need to set up the Julia
backend:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiforecasts/forecastbaselines" class="external-link">forecastbaselines</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Julia version 1.11.9 at location /opt/hostedtoolcache/julia/1.11.9/x64/bin will be used.</span></span>
<span><span class="co">#&gt; Loading setup script for JuliaCall...</span></span>
<span><span class="co">#&gt; Finish loading setup script for JuliaCall.</span></span>
<span><span class="co">#&gt; forecastbaselines: Julia backend loaded successfully</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://doi.org/10.48550/arXiv.2205.07090" class="external-link">scoringutils</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># One-time setup: installs Julia packages</span></span>
<span><span class="fu"><a href="../reference/setup_ForecastBaselines.html">setup_ForecastBaselines</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Initializing Julia...</span></span>
<span><span class="co">#&gt; Julia initialized successfully</span></span>
<span><span class="co">#&gt; Checking ForecastBaselines.jl installation...</span></span>
<span><span class="co">#&gt; ForecastBaselines.jl is already installed</span></span>
<span><span class="co">#&gt; Loading R conversion helpers...</span></span>
<span><span class="co">#&gt; forecastbaselines setup complete!</span></span></code></pre></div>
<p>This will:</p>
<ul>
<li>Initialize Julia from R</li>
<li>Install the ForecastBaselines.jl package</li>
<li>Install all dependencies</li>
<li>Load helper functions</li>
</ul>
<p>Note: This only needs to be done once. Subsequent R sessions will
automatically connect to Julia.</p>
</div>
</div>
<div class="section level2">
<h2 id="your-first-forecast">Your First Forecast<a class="anchor" aria-label="anchor" href="#your-first-forecast"></a>
</h2>
<p>Let’s create a simple forecast using the Constant (naive) model,
which uses the last observed value as the forecast.</p>
<div class="section level3">
<h3 id="generate-some-data">Generate Some Data<a class="anchor" aria-label="anchor" href="#generate-some-data"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate a time series with trend and seasonality</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">n_total</span> <span class="op">&lt;-</span> <span class="fl">62</span>  <span class="co"># Total observations</span></span>
<span><span class="va">n_train</span> <span class="op">&lt;-</span> <span class="fl">50</span>  <span class="co"># Training set size</span></span>
<span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="va">n_total</span></span>
<span><span class="va">trend</span> <span class="op">&lt;-</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="va">time</span></span>
<span><span class="va">seasonal</span> <span class="op">&lt;-</span> <span class="fl">5</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sin</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span> <span class="op">*</span> <span class="va">time</span> <span class="op">/</span> <span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">noise</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n_total</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">full_data</span> <span class="op">&lt;-</span> <span class="va">trend</span> <span class="op">+</span> <span class="va">seasonal</span> <span class="op">+</span> <span class="va">noise</span></span>
<span></span>
<span><span class="co"># Split into training and test sets</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">full_data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">n_train</span><span class="op">]</span></span>
<span><span class="va">truth</span> <span class="op">&lt;-</span> <span class="va">full_data</span><span class="op">[</span><span class="op">(</span><span class="va">n_train</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="va">n_total</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Plot the full series</span></span>
<span><span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">n_total</span>,</span>
<span>  value <span class="op">=</span> <span class="va">full_data</span>,</span>
<span>  set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Training"</span>, <span class="va">n_train</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Test"</span>, <span class="va">n_total</span> <span class="op">-</span> <span class="va">n_train</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">value</span>, color <span class="op">=</span> <span class="va">set</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Simulated Time Series"</span>, x <span class="op">=</span> <span class="st">"Time"</span>, y <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="forecastbaselines_files/figure-html/data-1.png" class="r-plt" alt="" width="672"></p>
</div>
<div class="section level3">
<h3 id="fit-a-model">Fit a Model<a class="anchor" aria-label="anchor" href="#fit-a-model"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a Constant (naive) model</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ConstantModel.html">ConstantModel</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fit the model to the data</span></span>
<span><span class="va">fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_baseline.html">fit_baseline</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">model</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="generate-forecasts">Generate Forecasts<a class="anchor" aria-label="anchor" href="#generate-forecasts"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Forecast 12 steps ahead</span></span>
<span><span class="va">horizon</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span></span>
<span><span class="va">fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/forecast.html">forecast</a></span><span class="op">(</span><span class="va">fitted</span>,</span>
<span>  interval_method <span class="op">=</span> <span class="fu"><a href="../reference/NoInterval.html">NoInterval</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  horizon <span class="op">=</span> <span class="va">horizon</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the forecast</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fc</span><span class="op">)</span></span>
<span><span class="co">#&gt; ForecastBaselines Forecast Object</span></span>
<span><span class="co">#&gt; ==================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Horizon: 1 to 12 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Components:</span></span>
<span><span class="co">#&gt;   - Mean forecasts</span></span>
<span><span class="co">#&gt;   - Median forecasts</span></span>
<span></span>
<span><span class="co"># Access forecast values</span></span>
<span><span class="va">fc</span><span class="op">$</span><span class="va">mean</span></span>
<span><span class="co">#&gt;  [1] 29.16339 29.16339 29.16339 29.16339 29.16339 29.16339 29.16339 29.16339</span></span>
<span><span class="co">#&gt;  [9] 29.16339 29.16339 29.16339 29.16339</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualize-results">Visualize Results<a class="anchor" aria-label="anchor" href="#visualize-results"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot data and forecast</span></span>
<span><span class="va">plot_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">n_train</span>, value <span class="op">=</span> <span class="va">data</span>, type <span class="op">=</span> <span class="st">"Observed"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>time <span class="op">=</span> <span class="op">(</span><span class="va">n_train</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="va">n_train</span> <span class="op">+</span> <span class="fl">12</span><span class="op">)</span>, value <span class="op">=</span> <span class="va">fc</span><span class="op">$</span><span class="va">mean</span>, type <span class="op">=</span> <span class="st">"Forecast"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plot_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">value</span>, color <span class="op">=</span> <span class="va">type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Observed"</span> <span class="op">=</span> <span class="st">"black"</span>, <span class="st">"Forecast"</span> <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Forecast with Constant Model"</span>, x <span class="op">=</span> <span class="st">"Time"</span>, y <span class="op">=</span> <span class="st">"Value"</span>, color <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span></span></code></pre></div>
<p><img src="forecastbaselines_files/figure-html/plot-1.png" class="r-plt" alt="" width="672"></p>
</div>
</div>
<div class="section level2">
<h2 id="probabilistic-forecasting">Probabilistic Forecasting<a class="anchor" aria-label="anchor" href="#probabilistic-forecasting"></a>
</h2>
<p>Most real-world forecasts need uncertainty quantification. Let’s add
prediction intervals.</p>
<div class="section level3">
<h3 id="empirical-intervals">Empirical Intervals<a class="anchor" aria-label="anchor" href="#empirical-intervals"></a>
</h3>
<p>The empirical method generates prediction intervals by bootstrapping
from residuals:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Forecast with prediction intervals</span></span>
<span><span class="va">fc_with_intervals</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/forecast.html">forecast</a></span><span class="op">(</span></span>
<span>  <span class="va">fitted</span>,</span>
<span>  interval_method <span class="op">=</span> <span class="fu"><a href="../reference/EmpiricalInterval.html">EmpiricalInterval</a></span><span class="op">(</span></span>
<span>    n_trajectories <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>    seed <span class="op">=</span> <span class="fl">42</span></span>
<span>  <span class="op">)</span>,</span>
<span>  horizon <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0.90</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  include_median <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  model_name <span class="op">=</span> <span class="st">"Constant"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert to hubverse format for visualization</span></span>
<span><span class="va">constant_hubverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_hubverse.html">as_hubverse</a></span><span class="op">(</span></span>
<span>  <span class="va">fc_with_intervals</span>,</span>
<span>  start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>,</span>
<span>  horizon_unit <span class="op">=</span> <span class="st">"week"</span>,</span>
<span>  observed_data <span class="op">=</span> <span class="va">full_data</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize with hubVis</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hubverse-org/hubVis" class="external-link">hubVis</a></span><span class="op">)</span></span>
<span><span class="fu">hubVis</span><span class="fu">::</span><span class="fu"><a href="https://hubverse-org.github.io/hubVis/reference/plot_step_ahead_model_output.html" class="external-link">plot_step_ahead_model_output</a></span><span class="op">(</span></span>
<span>  <span class="va">constant_hubverse</span><span class="op">$</span><span class="va">model_output</span>,</span>
<span>  <span class="va">constant_hubverse</span><span class="op">$</span><span class="va">target_data</span>,</span>
<span>  intervals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.9</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: <span style="color: #BBBB00;">!</span> `model_out_tbl` must be a `model_out_tbl`. Class</span></span>
<span><span class="co">#&gt; applied by default</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"visdat":{"248847b8df0b":["function () ","plotlyVisDat"],"248831c6581c":["function () ","data"],"24882f4cc405":["function () ","data"],"24885263dc5":["function () ","data"],"24882eb741fa":["function () ","data"]},"cur_data":"24882eb741fa","attrs":{"248831c6581c":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-01-01","2024-01-08","2024-01-15","2024-01-22","2024-01-29","2024-02-05","2024-02-12","2024-02-19","2024-02-26","2024-03-04","2024-03-11","2024-03-18","2024-03-25","2024-04-01","2024-04-08","2024-04-15","2024-04-22","2024-04-29","2024-05-06","2024-05-13","2024-05-20","2024-05-27","2024-06-03","2024-06-10","2024-06-17","2024-06-24","2024-07-01","2024-07-08","2024-07-15","2024-07-22","2024-07-29","2024-08-05","2024-08-12","2024-08-19","2024-08-26","2024-09-02","2024-09-09","2024-09-16","2024-09-23","2024-09-30","2024-10-07","2024-10-14","2024-10-21","2024-10-28","2024-11-04","2024-11-11","2024-11-18","2024-11-25","2024-12-02","2024-12-09","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"y":{},"type":"scatter","mode":"lines+markers","line":{"color":"#6e6e6e"},"hoverinfo":"text","name":"target","legendgroup":"target","hovertext":["Date: 2024-01-01<br>target:  1.879049","Date: 2024-01-08<br>target:  4.869772","Date: 2024-01-15<br>target:  9.617417","Date: 2024-01-22<br>target:  6.471144","Date: 2024-01-29<br>target:  5.258575","Date: 2024-02-05<br>target:  6.430130","Date: 2024-02-12<br>target:  1.921832","Date: 2024-02-19<br>target: -2.860249","Date: 2024-02-26<br>target: -1.873706","Date: 2024-03-04<br>target: -0.221451","Date: 2024-03-11<br>target:  5.448164","Date: 2024-03-18<br>target:  6.719628","Date: 2024-03-25<br>target:  9.801543","Date: 2024-04-01<br>target: 11.551492","Date: 2024-04-08<br>target: 11.388318","Date: 2024-04-15<br>target: 15.903953","Date: 2024-04-22<br>target: 11.995701","Date: 2024-04-29<br>target:  5.066766","Date: 2024-05-06<br>target:  8.402712","Date: 2024-05-13<br>target:  4.724290","Date: 2024-05-20<br>target:  3.364353","Date: 2024-05-27<br>target:  6.233923","Date: 2024-06-03<br>target:  6.947991","Date: 2024-06-10<br>target: 10.542218","Date: 2024-06-17<br>target: 13.749921","Date: 2024-06-24<br>target: 13.956740","Date: 2024-07-01<br>target: 20.175574","Date: 2024-07-08<br>target: 18.636873","Date: 2024-07-15<br>target: 14.723726","Date: 2024-07-22<br>target: 17.507630","Date: 2024-07-29<br>target: 13.852928","Date: 2024-08-05<br>target: 11.079730","Date: 2024-08-12<br>target: 13.290251","Date: 2024-08-19<br>target: 14.426140","Date: 2024-08-26<br>target: 16.643162","Date: 2024-09-02<br>target: 19.377281","Date: 2024-09-09<br>target: 22.107835","Date: 2024-09-16<br>target: 23.206304","Date: 2024-09-23<br>target: 23.888075","Date: 2024-09-30<br>target: 23.569185","Date: 2024-10-07<br>target: 21.610586","Date: 2024-10-14<br>target: 20.584165","Date: 2024-10-21<br>target: 16.469207","Date: 2024-10-28<br>target: 22.007785","Date: 2024-11-04<br>target: 19.915924","Date: 2024-11-11<br>target: 16.423656","Date: 2024-11-18<br>target: 20.194230","Date: 2024-11-25<br>target: 23.066689","Date: 2024-12-02<br>target: 28.559930","Date: 2024-12-09<br>target: 29.163389","Date: 2024-12-16<br>target: 31.006637","Date: 2024-12-23<br>target: 30.273034","Date: 2024-12-30<br>target: 28.914259","Date: 2025-01-06<br>target: 29.737205","Date: 2025-01-13<br>target: 24.548458","Date: 2025-01-20<br>target: 26.702814","Date: 2025-01-27<br>target: 20.402494","Date: 2025-02-03<br>target: 25.839100","Date: 2025-02-10<br>target: 27.247708","Date: 2025-02-17<br>target: 30.431883","Date: 2025-02-24<br>target: 33.759279","Date: 2025-03-03<br>target: 34.325480"],"marker":{"color":"#6e6e6e","size":7},"showlegend":true,"inherit":true},"24882f4cc405":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"legendgroup":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>95% Intervals: 24.38 - 35.38","Date: 2024-12-23<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-30<br>95% Intervals: 24.38 - 35.38","Date: 2025-01-06<br>95% Intervals: 24.38 - 35.38","Date: 2025-01-13<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-20<br>95% Intervals: 24.38 - 34.85","Date: 2025-01-27<br>95% Intervals: 24.38 - 34.83","Date: 2025-02-03<br>95% Intervals: 22.23 - 34.83","Date: 2025-02-10<br>95% Intervals: 24.38 - 34.85","Date: 2025-02-17<br>95% Intervals: 24.38 - 35.38","Date: 2025-02-24<br>95% Intervals: 24.38 - 34.83","Date: 2025-03-03<br>95% Intervals: 24.38 - 34.83"],"color":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"line":{"width":0},"inherit":true},"24885263dc5":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"legendgroup":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-23<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-30<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-06<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-13<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-20<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-27<br>90% Intervals: 24.66 - 34.83","Date: 2025-02-03<br>90% Intervals: 24.38 - 34.70","Date: 2025-02-10<br>90% Intervals: 25.03 - 34.83","Date: 2025-02-17<br>90% Intervals: 24.66 - 34.83","Date: 2025-02-24<br>90% Intervals: 24.66 - 34.70","Date: 2025-03-03<br>90% Intervals: 24.66 - 34.70"],"color":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"line":{"width":0},"inherit":true},"24882eb741fa":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"legendgroup":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>50% Intervals: 27.20 - 32.15","Date: 2024-12-23<br>50% Intervals: 27.20 - 32.04","Date: 2024-12-30<br>50% Intervals: 27.20 - 32.04","Date: 2025-01-06<br>50% Intervals: 27.62 - 32.15","Date: 2025-01-13<br>50% Intervals: 27.07 - 32.15","Date: 2025-01-20<br>50% Intervals: 27.20 - 32.15","Date: 2025-01-27<br>50% Intervals: 27.07 - 32.15","Date: 2025-02-03<br>50% Intervals: 27.07 - 32.03","Date: 2025-02-10<br>50% Intervals: 27.62 - 32.04","Date: 2025-02-17<br>50% Intervals: 27.20 - 32.15","Date: 2025-02-24<br>50% Intervals: 27.20 - 32.07","Date: 2025-03-03<br>50% Intervals: 27.07 - 32.04"],"color":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant"],"line":{"width":0},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Date"},"showlegend":true,"yaxis":{"domain":[0,1],"automargin":true,"title":"Value"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2024-01-01","2024-01-08","2024-01-15","2024-01-22","2024-01-29","2024-02-05","2024-02-12","2024-02-19","2024-02-26","2024-03-04","2024-03-11","2024-03-18","2024-03-25","2024-04-01","2024-04-08","2024-04-15","2024-04-22","2024-04-29","2024-05-06","2024-05-13","2024-05-20","2024-05-27","2024-06-03","2024-06-10","2024-06-17","2024-06-24","2024-07-01","2024-07-08","2024-07-15","2024-07-22","2024-07-29","2024-08-05","2024-08-12","2024-08-19","2024-08-26","2024-09-02","2024-09-09","2024-09-16","2024-09-23","2024-09-30","2024-10-07","2024-10-14","2024-10-21","2024-10-28","2024-11-04","2024-11-11","2024-11-18","2024-11-25","2024-12-02","2024-12-09","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"y":[1.8790487068955743,4.8697720399556328,9.6174166282982476,6.4711438017713458,5.2585754703218921,6.4301299737665625,1.9218324119784058,-2.8602494881352598,-1.8737057037870521,-0.22145095912210888,5.4481635948789204,6.7196276541147268,9.801542901188105,11.551492450812431,11.388317730491851,15.903953292528351,11.995700956458478,5.0667656867407249,8.4027118031273744,4.7242901656219383,3.3643525880263097,6.2339231517612141,6.9479911033855135,10.542217541417717,13.74992146430149,13.956740397437368,20.175574088989048,18.63687325459523,14.723726125976105,17.507629842139867,13.852928442953633,11.07973001509327,13.290251322090045,14.426139956143894,16.643162163274972,19.37728050820018,22.10783530707517,23.206303597768745,23.888074672520165,23.569185016897425,21.610586042158992,20.584165443960806,16.469207296863477,22.00778491175484,19.91592399660998,16.4236558146711,20.194230329401847,23.066689292753559,28.559930236672628,29.163388885978538,31.006637027989509,30.273033508224785,28.91425908541737,29.737204568028922,24.548458028681459,26.702814189936891,20.402494391539559,25.839100480349948,27.247708487689223,30.431883137487919,33.759278965519755,34.32548011270358],"type":"scatter","mode":"lines+markers","line":{"color":"#6e6e6e"},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"name":"target","legendgroup":"target","hovertext":["Date: 2024-01-01<br>target:  1.879049","Date: 2024-01-08<br>target:  4.869772","Date: 2024-01-15<br>target:  9.617417","Date: 2024-01-22<br>target:  6.471144","Date: 2024-01-29<br>target:  5.258575","Date: 2024-02-05<br>target:  6.430130","Date: 2024-02-12<br>target:  1.921832","Date: 2024-02-19<br>target: -2.860249","Date: 2024-02-26<br>target: -1.873706","Date: 2024-03-04<br>target: -0.221451","Date: 2024-03-11<br>target:  5.448164","Date: 2024-03-18<br>target:  6.719628","Date: 2024-03-25<br>target:  9.801543","Date: 2024-04-01<br>target: 11.551492","Date: 2024-04-08<br>target: 11.388318","Date: 2024-04-15<br>target: 15.903953","Date: 2024-04-22<br>target: 11.995701","Date: 2024-04-29<br>target:  5.066766","Date: 2024-05-06<br>target:  8.402712","Date: 2024-05-13<br>target:  4.724290","Date: 2024-05-20<br>target:  3.364353","Date: 2024-05-27<br>target:  6.233923","Date: 2024-06-03<br>target:  6.947991","Date: 2024-06-10<br>target: 10.542218","Date: 2024-06-17<br>target: 13.749921","Date: 2024-06-24<br>target: 13.956740","Date: 2024-07-01<br>target: 20.175574","Date: 2024-07-08<br>target: 18.636873","Date: 2024-07-15<br>target: 14.723726","Date: 2024-07-22<br>target: 17.507630","Date: 2024-07-29<br>target: 13.852928","Date: 2024-08-05<br>target: 11.079730","Date: 2024-08-12<br>target: 13.290251","Date: 2024-08-19<br>target: 14.426140","Date: 2024-08-26<br>target: 16.643162","Date: 2024-09-02<br>target: 19.377281","Date: 2024-09-09<br>target: 22.107835","Date: 2024-09-16<br>target: 23.206304","Date: 2024-09-23<br>target: 23.888075","Date: 2024-09-30<br>target: 23.569185","Date: 2024-10-07<br>target: 21.610586","Date: 2024-10-14<br>target: 20.584165","Date: 2024-10-21<br>target: 16.469207","Date: 2024-10-28<br>target: 22.007785","Date: 2024-11-04<br>target: 19.915924","Date: 2024-11-11<br>target: 16.423656","Date: 2024-11-18<br>target: 20.194230","Date: 2024-11-25<br>target: 23.066689","Date: 2024-12-02<br>target: 28.559930","Date: 2024-12-09<br>target: 29.163389","Date: 2024-12-16<br>target: 31.006637","Date: 2024-12-23<br>target: 30.273034","Date: 2024-12-30<br>target: 28.914259","Date: 2025-01-06<br>target: 29.737205","Date: 2025-01-13<br>target: 24.548458","Date: 2025-01-20<br>target: 26.702814","Date: 2025-01-27<br>target: 20.402494","Date: 2025-02-03<br>target: 25.839100","Date: 2025-02-10<br>target: 27.247708","Date: 2025-02-17<br>target: 30.431883","Date: 2025-02-24<br>target: 33.759279","Date: 2025-03-03<br>target: 34.325480"],"marker":{"color":"#6e6e6e","size":7,"line":{"color":"rgba(31,119,180,1)"}},"showlegend":true,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":"Constant","legendgroup":"Constant","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>95% Intervals: 24.38 - 35.38","Date: 2024-12-23<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-30<br>95% Intervals: 24.38 - 35.38","Date: 2025-01-06<br>95% Intervals: 24.38 - 35.38","Date: 2025-01-13<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-20<br>95% Intervals: 24.38 - 34.85","Date: 2025-01-27<br>95% Intervals: 24.38 - 34.83","Date: 2025-02-03<br>95% Intervals: 22.23 - 34.83","Date: 2025-02-10<br>95% Intervals: 24.38 - 34.85","Date: 2025-02-17<br>95% Intervals: 24.38 - 35.38","Date: 2025-02-24<br>95% Intervals: 24.38 - 34.83","Date: 2025-03-03<br>95% Intervals: 24.38 - 34.83","Date: 2025-03-03<br>95% Intervals: 24.38 - 34.83","Date: 2025-03-03<br>95% Intervals: 24.38 - 34.83","Date: 2025-02-24<br>95% Intervals: 24.38 - 34.83","Date: 2025-02-17<br>95% Intervals: 24.38 - 35.38","Date: 2025-02-10<br>95% Intervals: 24.38 - 34.85","Date: 2025-02-03<br>95% Intervals: 22.23 - 34.83","Date: 2025-01-27<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-20<br>95% Intervals: 24.38 - 34.85","Date: 2025-01-13<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-06<br>95% Intervals: 24.38 - 35.38","Date: 2024-12-30<br>95% Intervals: 24.38 - 35.38","Date: 2024-12-23<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-16<br>95% Intervals: 24.38 - 35.38"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,22.234453616260787,24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,34.833003439979564,34.833003439979564,35.382222577530214,34.846733918418316,34.833003439979564,34.833003439979564,34.846733918418316,34.833003439979564,35.382222577530214,35.382222577530214,34.833003439979564,35.382222577530214],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"Constant","legendgroup":"Constant","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-23<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-30<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-06<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-13<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-20<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-27<br>90% Intervals: 24.66 - 34.83","Date: 2025-02-03<br>90% Intervals: 24.38 - 34.70","Date: 2025-02-10<br>90% Intervals: 25.03 - 34.83","Date: 2025-02-17<br>90% Intervals: 24.66 - 34.83","Date: 2025-02-24<br>90% Intervals: 24.66 - 34.70","Date: 2025-03-03<br>90% Intervals: 24.66 - 34.70","Date: 2025-03-03<br>90% Intervals: 24.66 - 34.70","Date: 2025-03-03<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-24<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-17<br>90% Intervals: 24.66 - 34.83","Date: 2025-02-10<br>90% Intervals: 25.03 - 34.83","Date: 2025-02-03<br>90% Intervals: 24.38 - 34.70","Date: 2025-01-27<br>90% Intervals: 24.66 - 34.83","Date: 2025-01-20<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-13<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-06<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-30<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-23<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-16<br>90% Intervals: 24.66 - 34.70"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,24.381306985864875,25.028763768146668,24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,34.701966500869901,34.701966500869901,34.833003439979564,34.833003439979564,34.701966500869901,34.833003439979564,34.701966500869901,34.701966500869901,34.701966500869901,34.701966500869901,34.701966500869901,34.701966500869901],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"Constant","legendgroup":"Constant","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>50% Intervals: 27.20 - 32.15","Date: 2024-12-23<br>50% Intervals: 27.20 - 32.04","Date: 2024-12-30<br>50% Intervals: 27.20 - 32.04","Date: 2025-01-06<br>50% Intervals: 27.62 - 32.15","Date: 2025-01-13<br>50% Intervals: 27.07 - 32.15","Date: 2025-01-20<br>50% Intervals: 27.20 - 32.15","Date: 2025-01-27<br>50% Intervals: 27.07 - 32.15","Date: 2025-02-03<br>50% Intervals: 27.07 - 32.03","Date: 2025-02-10<br>50% Intervals: 27.62 - 32.04","Date: 2025-02-17<br>50% Intervals: 27.20 - 32.15","Date: 2025-02-24<br>50% Intervals: 27.20 - 32.07","Date: 2025-03-03<br>50% Intervals: 27.07 - 32.04","Date: 2025-03-03<br>50% Intervals: 27.07 - 32.04","Date: 2025-03-03<br>50% Intervals: 27.07 - 32.04","Date: 2025-02-24<br>50% Intervals: 27.20 - 32.07","Date: 2025-02-17<br>50% Intervals: 27.20 - 32.15","Date: 2025-02-10<br>50% Intervals: 27.62 - 32.04","Date: 2025-02-03<br>50% Intervals: 27.07 - 32.03","Date: 2025-01-27<br>50% Intervals: 27.07 - 32.15","Date: 2025-01-20<br>50% Intervals: 27.20 - 32.15","Date: 2025-01-13<br>50% Intervals: 27.07 - 32.15","Date: 2025-01-06<br>50% Intervals: 27.62 - 32.15","Date: 2024-12-30<br>50% Intervals: 27.20 - 32.04","Date: 2024-12-23<br>50% Intervals: 27.20 - 32.04","Date: 2024-12-16<br>50% Intervals: 27.20 - 32.15"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[27.204789911240105,27.204789911240105,27.204789911240105,27.62468805158472,27.071527970833678,27.204789911240105,27.071527970833678,27.071527970833678,27.62468805158472,27.204789911240105,27.204789911240105,27.071527970833678,27.071527970833678,32.035847849330253,32.065413941757342,32.154112219038595,32.035847849330253,32.032959449713445,32.154112219038595,32.154112219038595,32.154112219038595,32.154112219038595,32.035847849330253,32.035847849330253,32.154112219038595],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="try-a-more-advanced-model">Try a More Advanced Model<a class="anchor" aria-label="anchor" href="#try-a-more-advanced-model"></a>
</h3>
<p>Let’s use an ARMA model for better forecasting:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create ARMA(2,1) model</span></span>
<span><span class="va">arma_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ARMAModel.html">ARMAModel</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">2</span>, q <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fit and forecast with prediction intervals</span></span>
<span><span class="va">arma_fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_baseline.html">fit_baseline</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">arma_model</span><span class="op">)</span></span>
<span><span class="va">arma_fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/forecast.html">forecast</a></span><span class="op">(</span></span>
<span>  <span class="va">arma_fitted</span>,</span>
<span>  interval_method <span class="op">=</span> <span class="fu"><a href="../reference/EmpiricalInterval.html">EmpiricalInterval</a></span><span class="op">(</span>n_trajectories <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  horizon <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0.90</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  include_median <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  model_name <span class="op">=</span> <span class="st">"ARMA(2,1)"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert to hubverse format for visualization</span></span>
<span><span class="va">arma_hubverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_hubverse.html">as_hubverse</a></span><span class="op">(</span></span>
<span>  <span class="va">arma_fc</span>,</span>
<span>  start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>,</span>
<span>  horizon_unit <span class="op">=</span> <span class="st">"week"</span>,</span>
<span>  observed_data <span class="op">=</span> <span class="va">full_data</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize with hubVis</span></span>
<span><span class="fu">hubVis</span><span class="fu">::</span><span class="fu"><a href="https://hubverse-org.github.io/hubVis/reference/plot_step_ahead_model_output.html" class="external-link">plot_step_ahead_model_output</a></span><span class="op">(</span></span>
<span>  <span class="va">arma_hubverse</span><span class="op">$</span><span class="va">model_output</span>,</span>
<span>  <span class="va">arma_hubverse</span><span class="op">$</span><span class="va">target_data</span>,</span>
<span>  intervals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.9</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: <span style="color: #BBBB00;">!</span> `model_out_tbl` must be a `model_out_tbl`. Class</span></span>
<span><span class="co">#&gt; applied by default</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-febe03efa1a2d8d52a86" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"visdat":{"24882891eaed":["function () ","plotlyVisDat"],"24886a08ed9f":["function () ","data"],"24884f3e76c7":["function () ","data"],"248842b70a81":["function () ","data"],"24882d62887d":["function () ","data"]},"cur_data":"24882d62887d","attrs":{"24886a08ed9f":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-01-01","2024-01-08","2024-01-15","2024-01-22","2024-01-29","2024-02-05","2024-02-12","2024-02-19","2024-02-26","2024-03-04","2024-03-11","2024-03-18","2024-03-25","2024-04-01","2024-04-08","2024-04-15","2024-04-22","2024-04-29","2024-05-06","2024-05-13","2024-05-20","2024-05-27","2024-06-03","2024-06-10","2024-06-17","2024-06-24","2024-07-01","2024-07-08","2024-07-15","2024-07-22","2024-07-29","2024-08-05","2024-08-12","2024-08-19","2024-08-26","2024-09-02","2024-09-09","2024-09-16","2024-09-23","2024-09-30","2024-10-07","2024-10-14","2024-10-21","2024-10-28","2024-11-04","2024-11-11","2024-11-18","2024-11-25","2024-12-02","2024-12-09","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"y":{},"type":"scatter","mode":"lines+markers","line":{"color":"#6e6e6e"},"hoverinfo":"text","name":"target","legendgroup":"target","hovertext":["Date: 2024-01-01<br>target:  1.879049","Date: 2024-01-08<br>target:  4.869772","Date: 2024-01-15<br>target:  9.617417","Date: 2024-01-22<br>target:  6.471144","Date: 2024-01-29<br>target:  5.258575","Date: 2024-02-05<br>target:  6.430130","Date: 2024-02-12<br>target:  1.921832","Date: 2024-02-19<br>target: -2.860249","Date: 2024-02-26<br>target: -1.873706","Date: 2024-03-04<br>target: -0.221451","Date: 2024-03-11<br>target:  5.448164","Date: 2024-03-18<br>target:  6.719628","Date: 2024-03-25<br>target:  9.801543","Date: 2024-04-01<br>target: 11.551492","Date: 2024-04-08<br>target: 11.388318","Date: 2024-04-15<br>target: 15.903953","Date: 2024-04-22<br>target: 11.995701","Date: 2024-04-29<br>target:  5.066766","Date: 2024-05-06<br>target:  8.402712","Date: 2024-05-13<br>target:  4.724290","Date: 2024-05-20<br>target:  3.364353","Date: 2024-05-27<br>target:  6.233923","Date: 2024-06-03<br>target:  6.947991","Date: 2024-06-10<br>target: 10.542218","Date: 2024-06-17<br>target: 13.749921","Date: 2024-06-24<br>target: 13.956740","Date: 2024-07-01<br>target: 20.175574","Date: 2024-07-08<br>target: 18.636873","Date: 2024-07-15<br>target: 14.723726","Date: 2024-07-22<br>target: 17.507630","Date: 2024-07-29<br>target: 13.852928","Date: 2024-08-05<br>target: 11.079730","Date: 2024-08-12<br>target: 13.290251","Date: 2024-08-19<br>target: 14.426140","Date: 2024-08-26<br>target: 16.643162","Date: 2024-09-02<br>target: 19.377281","Date: 2024-09-09<br>target: 22.107835","Date: 2024-09-16<br>target: 23.206304","Date: 2024-09-23<br>target: 23.888075","Date: 2024-09-30<br>target: 23.569185","Date: 2024-10-07<br>target: 21.610586","Date: 2024-10-14<br>target: 20.584165","Date: 2024-10-21<br>target: 16.469207","Date: 2024-10-28<br>target: 22.007785","Date: 2024-11-04<br>target: 19.915924","Date: 2024-11-11<br>target: 16.423656","Date: 2024-11-18<br>target: 20.194230","Date: 2024-11-25<br>target: 23.066689","Date: 2024-12-02<br>target: 28.559930","Date: 2024-12-09<br>target: 29.163389","Date: 2024-12-16<br>target: 31.006637","Date: 2024-12-23<br>target: 30.273034","Date: 2024-12-30<br>target: 28.914259","Date: 2025-01-06<br>target: 29.737205","Date: 2025-01-13<br>target: 24.548458","Date: 2025-01-20<br>target: 26.702814","Date: 2025-01-27<br>target: 20.402494","Date: 2025-02-03<br>target: 25.839100","Date: 2025-02-10<br>target: 27.247708","Date: 2025-02-17<br>target: 30.431883","Date: 2025-02-24<br>target: 33.759279","Date: 2025-03-03<br>target: 34.325480"],"marker":{"color":"#6e6e6e","size":7},"showlegend":true,"inherit":true},"24884f3e76c7":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"legendgroup":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>95% Intervals: 23.64 - 37.27","Date: 2024-12-23<br>95% Intervals: 23.78 - 37.45","Date: 2024-12-30<br>95% Intervals: 23.69 - 37.32","Date: 2025-01-06<br>95% Intervals: 23.75 - 37.38","Date: 2025-01-13<br>95% Intervals: 23.71 - 37.34","Date: 2025-01-20<br>95% Intervals: 23.74 - 37.37","Date: 2025-01-27<br>95% Intervals: 23.65 - 37.35","Date: 2025-02-03<br>95% Intervals: 23.73 - 37.36","Date: 2025-02-10<br>95% Intervals: 23.72 - 37.38","Date: 2025-02-17<br>95% Intervals: 23.73 - 37.36","Date: 2025-02-24<br>95% Intervals: 23.73 - 37.36","Date: 2025-03-03<br>95% Intervals: 20.96 - 38.54"],"color":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"line":{"width":0},"inherit":true},"248842b70a81":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"legendgroup":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>90% Intervals: 24.73 - 36.61","Date: 2024-12-23<br>90% Intervals: 23.78 - 36.79","Date: 2024-12-30<br>90% Intervals: 24.78 - 36.66","Date: 2025-01-06<br>90% Intervals: 23.75 - 36.72","Date: 2025-01-13<br>90% Intervals: 24.89 - 36.68","Date: 2025-01-20<br>90% Intervals: 24.83 - 36.71","Date: 2025-01-27<br>90% Intervals: 24.81 - 36.69","Date: 2025-02-03<br>90% Intervals: 24.82 - 37.36","Date: 2025-02-10<br>90% Intervals: 24.81 - 36.69","Date: 2025-02-17<br>90% Intervals: 24.82 - 36.70","Date: 2025-02-24<br>90% Intervals: 24.81 - 36.70","Date: 2025-03-03<br>90% Intervals: 23.73 - 36.70"],"color":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"line":{"width":0},"inherit":true},"24882d62887d":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"legendgroup":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>50% Intervals: 27.58 - 32.23","Date: 2024-12-23<br>50% Intervals: 27.56 - 32.36","Date: 2024-12-30<br>50% Intervals: 27.46 - 32.26","Date: 2025-01-06<br>50% Intervals: 27.69 - 32.38","Date: 2025-01-13<br>50% Intervals: 27.48 - 32.30","Date: 2025-01-20<br>50% Intervals: 27.51 - 32.37","Date: 2025-01-27<br>50% Intervals: 27.49 - 32.35","Date: 2025-02-03<br>50% Intervals: 27.51 - 32.36","Date: 2025-02-10<br>50% Intervals: 27.50 - 32.30","Date: 2025-02-17<br>50% Intervals: 27.50 - 32.30","Date: 2025-02-24<br>50% Intervals: 27.50 - 32.30","Date: 2025-03-03<br>50% Intervals: 27.45 - 32.30"],"color":["ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)","ARMA(2,1)"],"line":{"width":0},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Date"},"showlegend":true,"yaxis":{"domain":[0,1],"automargin":true,"title":"Value"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2024-01-01","2024-01-08","2024-01-15","2024-01-22","2024-01-29","2024-02-05","2024-02-12","2024-02-19","2024-02-26","2024-03-04","2024-03-11","2024-03-18","2024-03-25","2024-04-01","2024-04-08","2024-04-15","2024-04-22","2024-04-29","2024-05-06","2024-05-13","2024-05-20","2024-05-27","2024-06-03","2024-06-10","2024-06-17","2024-06-24","2024-07-01","2024-07-08","2024-07-15","2024-07-22","2024-07-29","2024-08-05","2024-08-12","2024-08-19","2024-08-26","2024-09-02","2024-09-09","2024-09-16","2024-09-23","2024-09-30","2024-10-07","2024-10-14","2024-10-21","2024-10-28","2024-11-04","2024-11-11","2024-11-18","2024-11-25","2024-12-02","2024-12-09","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"y":[1.8790487068955743,4.8697720399556328,9.6174166282982476,6.4711438017713458,5.2585754703218921,6.4301299737665625,1.9218324119784058,-2.8602494881352598,-1.8737057037870521,-0.22145095912210888,5.4481635948789204,6.7196276541147268,9.801542901188105,11.551492450812431,11.388317730491851,15.903953292528351,11.995700956458478,5.0667656867407249,8.4027118031273744,4.7242901656219383,3.3643525880263097,6.2339231517612141,6.9479911033855135,10.542217541417717,13.74992146430149,13.956740397437368,20.175574088989048,18.63687325459523,14.723726125976105,17.507629842139867,13.852928442953633,11.07973001509327,13.290251322090045,14.426139956143894,16.643162163274972,19.37728050820018,22.10783530707517,23.206303597768745,23.888074672520165,23.569185016897425,21.610586042158992,20.584165443960806,16.469207296863477,22.00778491175484,19.91592399660998,16.4236558146711,20.194230329401847,23.066689292753559,28.559930236672628,29.163388885978538,31.006637027989509,30.273033508224785,28.91425908541737,29.737204568028922,24.548458028681459,26.702814189936891,20.402494391539559,25.839100480349948,27.247708487689223,30.431883137487919,33.759278965519755,34.32548011270358],"type":"scatter","mode":"lines+markers","line":{"color":"#6e6e6e"},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"name":"target","legendgroup":"target","hovertext":["Date: 2024-01-01<br>target:  1.879049","Date: 2024-01-08<br>target:  4.869772","Date: 2024-01-15<br>target:  9.617417","Date: 2024-01-22<br>target:  6.471144","Date: 2024-01-29<br>target:  5.258575","Date: 2024-02-05<br>target:  6.430130","Date: 2024-02-12<br>target:  1.921832","Date: 2024-02-19<br>target: -2.860249","Date: 2024-02-26<br>target: -1.873706","Date: 2024-03-04<br>target: -0.221451","Date: 2024-03-11<br>target:  5.448164","Date: 2024-03-18<br>target:  6.719628","Date: 2024-03-25<br>target:  9.801543","Date: 2024-04-01<br>target: 11.551492","Date: 2024-04-08<br>target: 11.388318","Date: 2024-04-15<br>target: 15.903953","Date: 2024-04-22<br>target: 11.995701","Date: 2024-04-29<br>target:  5.066766","Date: 2024-05-06<br>target:  8.402712","Date: 2024-05-13<br>target:  4.724290","Date: 2024-05-20<br>target:  3.364353","Date: 2024-05-27<br>target:  6.233923","Date: 2024-06-03<br>target:  6.947991","Date: 2024-06-10<br>target: 10.542218","Date: 2024-06-17<br>target: 13.749921","Date: 2024-06-24<br>target: 13.956740","Date: 2024-07-01<br>target: 20.175574","Date: 2024-07-08<br>target: 18.636873","Date: 2024-07-15<br>target: 14.723726","Date: 2024-07-22<br>target: 17.507630","Date: 2024-07-29<br>target: 13.852928","Date: 2024-08-05<br>target: 11.079730","Date: 2024-08-12<br>target: 13.290251","Date: 2024-08-19<br>target: 14.426140","Date: 2024-08-26<br>target: 16.643162","Date: 2024-09-02<br>target: 19.377281","Date: 2024-09-09<br>target: 22.107835","Date: 2024-09-16<br>target: 23.206304","Date: 2024-09-23<br>target: 23.888075","Date: 2024-09-30<br>target: 23.569185","Date: 2024-10-07<br>target: 21.610586","Date: 2024-10-14<br>target: 20.584165","Date: 2024-10-21<br>target: 16.469207","Date: 2024-10-28<br>target: 22.007785","Date: 2024-11-04<br>target: 19.915924","Date: 2024-11-11<br>target: 16.423656","Date: 2024-11-18<br>target: 20.194230","Date: 2024-11-25<br>target: 23.066689","Date: 2024-12-02<br>target: 28.559930","Date: 2024-12-09<br>target: 29.163389","Date: 2024-12-16<br>target: 31.006637","Date: 2024-12-23<br>target: 30.273034","Date: 2024-12-30<br>target: 28.914259","Date: 2025-01-06<br>target: 29.737205","Date: 2025-01-13<br>target: 24.548458","Date: 2025-01-20<br>target: 26.702814","Date: 2025-01-27<br>target: 20.402494","Date: 2025-02-03<br>target: 25.839100","Date: 2025-02-10<br>target: 27.247708","Date: 2025-02-17<br>target: 30.431883","Date: 2025-02-24<br>target: 33.759279","Date: 2025-03-03<br>target: 34.325480"],"marker":{"color":"#6e6e6e","size":7,"line":{"color":"rgba(31,119,180,1)"}},"showlegend":true,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":"ARMA(2,1)","legendgroup":"ARMA(2,1)","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>95% Intervals: 23.64 - 37.27","Date: 2024-12-23<br>95% Intervals: 23.78 - 37.45","Date: 2024-12-30<br>95% Intervals: 23.69 - 37.32","Date: 2025-01-06<br>95% Intervals: 23.75 - 37.38","Date: 2025-01-13<br>95% Intervals: 23.71 - 37.34","Date: 2025-01-20<br>95% Intervals: 23.74 - 37.37","Date: 2025-01-27<br>95% Intervals: 23.65 - 37.35","Date: 2025-02-03<br>95% Intervals: 23.73 - 37.36","Date: 2025-02-10<br>95% Intervals: 23.72 - 37.38","Date: 2025-02-17<br>95% Intervals: 23.73 - 37.36","Date: 2025-02-24<br>95% Intervals: 23.73 - 37.36","Date: 2025-03-03<br>95% Intervals: 20.96 - 38.54","Date: 2025-03-03<br>95% Intervals: 20.96 - 38.54","Date: 2025-03-03<br>95% Intervals: 20.96 - 38.54","Date: 2025-02-24<br>95% Intervals: 23.73 - 37.36","Date: 2025-02-17<br>95% Intervals: 23.73 - 37.36","Date: 2025-02-10<br>95% Intervals: 23.72 - 37.38","Date: 2025-02-03<br>95% Intervals: 23.73 - 37.36","Date: 2025-01-27<br>95% Intervals: 23.65 - 37.35","Date: 2025-01-20<br>95% Intervals: 23.74 - 37.37","Date: 2025-01-13<br>95% Intervals: 23.71 - 37.34","Date: 2025-01-06<br>95% Intervals: 23.75 - 37.38","Date: 2024-12-30<br>95% Intervals: 23.69 - 37.32","Date: 2024-12-23<br>95% Intervals: 23.78 - 37.45","Date: 2024-12-16<br>95% Intervals: 23.64 - 37.27"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[23.640229366267366,23.784347993087199,23.68806022463713,23.752391262283219,23.709410675199894,23.738126454700023,23.649682220307604,23.731758895537688,23.723194883924073,23.728916477867461,23.725093663034411,20.957300031135752,20.957300031135752,38.538151733784971,37.356825356019343,37.360648170852393,37.38439588796755,37.363490588522623,37.350672602475569,37.369858147684958,37.341142368184826,37.384122955268154,37.319791917622062,37.445548997130672,37.271961059252298],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"ARMA(2,1)","legendgroup":"ARMA(2,1)","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>90% Intervals: 24.73 - 36.61","Date: 2024-12-23<br>90% Intervals: 23.78 - 36.79","Date: 2024-12-30<br>90% Intervals: 24.78 - 36.66","Date: 2025-01-06<br>90% Intervals: 23.75 - 36.72","Date: 2025-01-13<br>90% Intervals: 24.89 - 36.68","Date: 2025-01-20<br>90% Intervals: 24.83 - 36.71","Date: 2025-01-27<br>90% Intervals: 24.81 - 36.69","Date: 2025-02-03<br>90% Intervals: 24.82 - 37.36","Date: 2025-02-10<br>90% Intervals: 24.81 - 36.69","Date: 2025-02-17<br>90% Intervals: 24.82 - 36.70","Date: 2025-02-24<br>90% Intervals: 24.81 - 36.70","Date: 2025-03-03<br>90% Intervals: 23.73 - 36.70","Date: 2025-03-03<br>90% Intervals: 23.73 - 36.70","Date: 2025-03-03<br>90% Intervals: 23.73 - 36.70","Date: 2025-02-24<br>90% Intervals: 24.81 - 36.70","Date: 2025-02-17<br>90% Intervals: 24.82 - 36.70","Date: 2025-02-10<br>90% Intervals: 24.81 - 36.69","Date: 2025-02-03<br>90% Intervals: 24.82 - 37.36","Date: 2025-01-27<br>90% Intervals: 24.81 - 36.69","Date: 2025-01-20<br>90% Intervals: 24.83 - 36.71","Date: 2025-01-13<br>90% Intervals: 24.89 - 36.68","Date: 2025-01-06<br>90% Intervals: 23.75 - 36.72","Date: 2024-12-30<br>90% Intervals: 24.78 - 36.66","Date: 2024-12-23<br>90% Intervals: 23.78 - 36.79","Date: 2024-12-16<br>90% Intervals: 24.73 - 36.61"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[24.729437962797316,23.784347993087199,24.77726882116708,23.752391262283219,24.892776676673293,24.827335051229973,24.808149506020587,24.820967492067638,24.812403480454023,24.818125074397411,24.814302259564361,23.727647598457292,23.727647598457292,36.69809686333781,36.695542927914929,36.699365742747986,36.693644148804594,37.363490588522623,36.689390174371155,36.708575719580544,36.679859940080419,36.72284052716374,36.658509489517655,36.78786137937292,36.610678631147891],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"ARMA(2,1)","legendgroup":"ARMA(2,1)","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>50% Intervals: 27.58 - 32.23","Date: 2024-12-23<br>50% Intervals: 27.56 - 32.36","Date: 2024-12-30<br>50% Intervals: 27.46 - 32.26","Date: 2025-01-06<br>50% Intervals: 27.69 - 32.38","Date: 2025-01-13<br>50% Intervals: 27.48 - 32.30","Date: 2025-01-20<br>50% Intervals: 27.51 - 32.37","Date: 2025-01-27<br>50% Intervals: 27.49 - 32.35","Date: 2025-02-03<br>50% Intervals: 27.51 - 32.36","Date: 2025-02-10<br>50% Intervals: 27.50 - 32.30","Date: 2025-02-17<br>50% Intervals: 27.50 - 32.30","Date: 2025-02-24<br>50% Intervals: 27.50 - 32.30","Date: 2025-03-03<br>50% Intervals: 27.45 - 32.30","Date: 2025-03-03<br>50% Intervals: 27.45 - 32.30","Date: 2025-03-03<br>50% Intervals: 27.45 - 32.30","Date: 2025-02-24<br>50% Intervals: 27.50 - 32.30","Date: 2025-02-17<br>50% Intervals: 27.50 - 32.30","Date: 2025-02-10<br>50% Intervals: 27.50 - 32.30","Date: 2025-02-03<br>50% Intervals: 27.51 - 32.36","Date: 2025-01-27<br>50% Intervals: 27.49 - 32.35","Date: 2025-01-20<br>50% Intervals: 27.51 - 32.37","Date: 2025-01-13<br>50% Intervals: 27.48 - 32.30","Date: 2025-01-06<br>50% Intervals: 27.69 - 32.38","Date: 2024-12-30<br>50% Intervals: 27.46 - 32.26","Date: 2024-12-23<br>50% Intervals: 27.56 - 32.36","Date: 2024-12-16<br>50% Intervals: 27.58 - 32.23"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[27.578876535997544,27.559821854745174,27.463534086295105,27.691038432013396,27.484884536857869,27.513600316357998,27.494414771148612,27.507232757195663,27.498668745582048,27.504390339525436,27.500567524692386,27.447406917806831,27.447406917806831,32.302052711898753,32.299498776475872,32.303321591308922,32.297599997365531,32.358941546502798,32.346123560455752,32.365309105665133,32.297010173022265,32.379573913248329,32.262465338078592,32.35875310652866,32.227828864089744],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>The hubVis visualizations show:</p>
<ul>
<li>Prediction intervals at 50%, 90%, and 95% confidence levels</li>
<li>Observed truth values overlaid on the forecasts</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="model-evaluation">Model Evaluation<a class="anchor" aria-label="anchor" href="#model-evaluation"></a>
</h2>
<p>This package integrates seamlessly with <a href="https://epiforecasts.io/scoringutils/" class="external-link">scoringutils</a> for
forecast evaluation using proper scoring rules.</p>
<p>For probabilistic forecasts with prediction intervals, use
<strong>WIS (Weighted Interval Score)</strong> and <strong>interval
coverage</strong>:</p>
<div class="section level3">
<h3 id="compare-multiple-models">Compare Multiple Models<a class="anchor" aria-label="anchor" href="#compare-multiple-models"></a>
</h3>
<p>For probabilistic forecasts, use proper scoring rules like WIS
(Weighted Interval Score):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create multiple models</span></span>
<span><span class="va">models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  Constant <span class="op">=</span> <span class="fu"><a href="../reference/ConstantModel.html">ConstantModel</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ARMA <span class="op">=</span> <span class="fu"><a href="../reference/ARMAModel.html">ARMAModel</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">1</span>, q <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  Marginal <span class="op">=</span> <span class="fu"><a href="../reference/MarginalModel.html">MarginalModel</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fit each model with prediction intervals</span></span>
<span><span class="va">forecasts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">models</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_baseline.html">fit_baseline</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">models</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/forecast.html">forecast</a></span><span class="op">(</span><span class="va">fitted</span>,</span>
<span>    interval_method <span class="op">=</span> <span class="fu"><a href="../reference/EmpiricalInterval.html">EmpiricalInterval</a></span><span class="op">(</span>n_trajectories <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>,</span>
<span>    horizon <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,</span>
<span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0.90</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>    include_median <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    model_name <span class="op">=</span> <span class="va">name</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combine all forecasts for comparison</span></span>
<span><span class="va">all_quantiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">forecasts</span>, <span class="kw">function</span><span class="op">(</span><span class="va">fc</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/as_forecast_quantile.html" class="external-link">as_forecast_quantile</a></span><span class="op">(</span><span class="fu"><a href="../reference/add_truth.html">add_truth</a></span><span class="op">(</span><span class="va">fc</span>, <span class="va">truth</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Re-validate as forecast object after rbind</span></span>
<span><span class="va">all_quantiles</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/as_forecast_quantile.html" class="external-link">as_forecast_quantile</a></span><span class="op">(</span><span class="va">all_quantiles</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Score all models</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/score.html" class="external-link">score</a></span><span class="op">(</span><span class="va">all_quantiles</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Median not available, interpolating median from the two innermost quantiles</span></span>
<span><span class="co">#&gt;   in order to compute bias.</span></span>
<span><span class="co">#&gt; Warning: <span style="color: #BBBB00;">!</span> Computation for `interval_coverage_90` failed. Error: <span style="color: #BBBB00;">!</span> To compute the</span></span>
<span><span class="co">#&gt;   interval coverage for an interval range of <span style="color: #0000BB;">"90%"</span>, the <span style="color: #0000BB;">0.05</span> and <span style="color: #0000BB;">0.95</span> quantiles</span></span>
<span><span class="co">#&gt;   are required.</span></span>
<span><span class="co">#&gt; Warning: <span style="color: #BBBB00;">!</span> Computation for `ae_median` failed. Error: <span style="color: #BBBB00;">!</span> In order to compute the absolute</span></span>
<span><span class="co">#&gt;   error of the median, <span style="color: #0000BB;">"0.5"</span> must be among the quantiles given.</span></span>
<span><span class="va">score_summary</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/summarise_scores.html" class="external-link">summarise_scores</a></span><span class="op">(</span><span class="va">scores</span>, by <span class="op">=</span> <span class="st">"model"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display key metrics</span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Model <span class="op">=</span> <span class="va">score_summary</span><span class="op">$</span><span class="va">model</span>,</span>
<span>  WIS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">score_summary</span><span class="op">$</span><span class="va">wis</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  Coverage_50 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">score_summary</span><span class="op">$</span><span class="va">interval_coverage_50</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"%"</span><span class="op">)</span>,</span>
<span>  Coverage_90 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">score_summary</span><span class="op">$</span><span class="va">interval_coverage_90</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"%"</span><span class="op">)</span>,</span>
<span>  Coverage_95 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">score_summary</span><span class="op">$</span><span class="va">interval_coverage_95</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"%"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">)</span></span>
<span><span class="co">#&gt;      Model  WIS Coverage_50 Coverage_90 Coverage_95</span></span>
<span><span class="co">#&gt; 1 Constant 1.32         50%           %           %</span></span>
<span><span class="co">#&gt; 2     ARMA 1.33       41.7%           %           %</span></span>
<span><span class="co">#&gt; 3 Marginal 4.14        8.3%           %           %</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nBest model by WIS:"</span>, <span class="va">comparison</span><span class="op">$</span><span class="va">Model</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">score_summary</span><span class="op">$</span><span class="va">wis</span><span class="op">)</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Best model by WIS: Constant</span></span>
<span></span>
<span><span class="co"># Visualize model comparison with hubVis</span></span>
<span><span class="va">comparison_hubverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_hubverse.html">as_hubverse</a></span><span class="op">(</span></span>
<span>  <span class="va">all_quantiles</span>,</span>
<span>  start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span>,</span>
<span>  horizon_unit <span class="op">=</span> <span class="st">"week"</span>,</span>
<span>  observed_data <span class="op">=</span> <span class="va">full_data</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">hubVis</span><span class="fu">::</span><span class="fu"><a href="https://hubverse-org.github.io/hubVis/reference/plot_step_ahead_model_output.html" class="external-link">plot_step_ahead_model_output</a></span><span class="op">(</span></span>
<span>  <span class="va">comparison_hubverse</span><span class="op">$</span><span class="va">model_output</span>,</span>
<span>  <span class="va">comparison_hubverse</span><span class="op">$</span><span class="va">target_data</span>,</span>
<span>  intervals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.9</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: <span style="color: #BBBB00;">!</span> `model_out_tbl` must be a `model_out_tbl`. Class</span></span>
<span><span class="co">#&gt; applied by default</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-10b3b7155e8045a1b2ad" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-10b3b7155e8045a1b2ad">{"x":{"visdat":{"2488755f7775":["function () ","plotlyVisDat"],"248817fa0a33":["function () ","data"],"24885af2f54b":["function () ","data"],"248812a87b8e":["function () ","data"],"24884f4036a4":["function () ","data"]},"cur_data":"24884f4036a4","attrs":{"248817fa0a33":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-01-01","2024-01-08","2024-01-15","2024-01-22","2024-01-29","2024-02-05","2024-02-12","2024-02-19","2024-02-26","2024-03-04","2024-03-11","2024-03-18","2024-03-25","2024-04-01","2024-04-08","2024-04-15","2024-04-22","2024-04-29","2024-05-06","2024-05-13","2024-05-20","2024-05-27","2024-06-03","2024-06-10","2024-06-17","2024-06-24","2024-07-01","2024-07-08","2024-07-15","2024-07-22","2024-07-29","2024-08-05","2024-08-12","2024-08-19","2024-08-26","2024-09-02","2024-09-09","2024-09-16","2024-09-23","2024-09-30","2024-10-07","2024-10-14","2024-10-21","2024-10-28","2024-11-04","2024-11-11","2024-11-18","2024-11-25","2024-12-02","2024-12-09","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"y":{},"type":"scatter","mode":"lines+markers","line":{"color":"#6e6e6e"},"hoverinfo":"text","name":"target","legendgroup":"target","hovertext":["Date: 2024-01-01<br>target:  1.879049","Date: 2024-01-08<br>target:  4.869772","Date: 2024-01-15<br>target:  9.617417","Date: 2024-01-22<br>target:  6.471144","Date: 2024-01-29<br>target:  5.258575","Date: 2024-02-05<br>target:  6.430130","Date: 2024-02-12<br>target:  1.921832","Date: 2024-02-19<br>target: -2.860249","Date: 2024-02-26<br>target: -1.873706","Date: 2024-03-04<br>target: -0.221451","Date: 2024-03-11<br>target:  5.448164","Date: 2024-03-18<br>target:  6.719628","Date: 2024-03-25<br>target:  9.801543","Date: 2024-04-01<br>target: 11.551492","Date: 2024-04-08<br>target: 11.388318","Date: 2024-04-15<br>target: 15.903953","Date: 2024-04-22<br>target: 11.995701","Date: 2024-04-29<br>target:  5.066766","Date: 2024-05-06<br>target:  8.402712","Date: 2024-05-13<br>target:  4.724290","Date: 2024-05-20<br>target:  3.364353","Date: 2024-05-27<br>target:  6.233923","Date: 2024-06-03<br>target:  6.947991","Date: 2024-06-10<br>target: 10.542218","Date: 2024-06-17<br>target: 13.749921","Date: 2024-06-24<br>target: 13.956740","Date: 2024-07-01<br>target: 20.175574","Date: 2024-07-08<br>target: 18.636873","Date: 2024-07-15<br>target: 14.723726","Date: 2024-07-22<br>target: 17.507630","Date: 2024-07-29<br>target: 13.852928","Date: 2024-08-05<br>target: 11.079730","Date: 2024-08-12<br>target: 13.290251","Date: 2024-08-19<br>target: 14.426140","Date: 2024-08-26<br>target: 16.643162","Date: 2024-09-02<br>target: 19.377281","Date: 2024-09-09<br>target: 22.107835","Date: 2024-09-16<br>target: 23.206304","Date: 2024-09-23<br>target: 23.888075","Date: 2024-09-30<br>target: 23.569185","Date: 2024-10-07<br>target: 21.610586","Date: 2024-10-14<br>target: 20.584165","Date: 2024-10-21<br>target: 16.469207","Date: 2024-10-28<br>target: 22.007785","Date: 2024-11-04<br>target: 19.915924","Date: 2024-11-11<br>target: 16.423656","Date: 2024-11-18<br>target: 20.194230","Date: 2024-11-25<br>target: 23.066689","Date: 2024-12-02<br>target: 28.559930","Date: 2024-12-09<br>target: 29.163389","Date: 2024-12-16<br>target: 31.006637","Date: 2024-12-23<br>target: 30.273034","Date: 2024-12-30<br>target: 28.914259","Date: 2025-01-06<br>target: 29.737205","Date: 2025-01-13<br>target: 24.548458","Date: 2025-01-20<br>target: 26.702814","Date: 2025-01-27<br>target: 20.402494","Date: 2025-02-03<br>target: 25.839100","Date: 2025-02-10<br>target: 27.247708","Date: 2025-02-17<br>target: 30.431883","Date: 2025-02-24<br>target: 33.759279","Date: 2025-03-03<br>target: 34.325480"],"marker":{"color":"#6e6e6e","size":7},"showlegend":true,"inherit":true},"24885af2f54b":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"legendgroup":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>95% Intervals: 24.38 - 35.38","Date: 2024-12-23<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-30<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-06<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-13<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-20<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-27<br>95% Intervals: 24.38 - 35.38","Date: 2025-02-03<br>95% Intervals: 22.23 - 34.83","Date: 2025-02-10<br>95% Intervals: 22.23 - 34.83","Date: 2025-02-17<br>95% Intervals: 24.38 - 34.85","Date: 2025-02-24<br>95% Intervals: 24.38 - 35.38","Date: 2025-03-03<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-16<br>95% Intervals: 23.71 - 38.36","Date: 2024-12-23<br>95% Intervals: 23.71 - 35.79","Date: 2024-12-30<br>95% Intervals: 23.71 - 35.79","Date: 2025-01-06<br>95% Intervals: 23.71 - 35.79","Date: 2025-01-13<br>95% Intervals: 23.71 - 38.36","Date: 2025-01-20<br>95% Intervals: 23.59 - 35.79","Date: 2025-01-27<br>95% Intervals: 23.71 - 35.79","Date: 2025-02-03<br>95% Intervals: 23.59 - 35.79","Date: 2025-02-10<br>95% Intervals: 23.59 - 35.79","Date: 2025-02-17<br>95% Intervals: 23.71 - 35.79","Date: 2025-02-24<br>95% Intervals: 23.71 - 35.79","Date: 2025-03-03<br>95% Intervals: 23.71 - 35.79","Date: 2024-12-16<br>95% Intervals:  6.88 - 29.22","Date: 2024-12-23<br>95% Intervals:  6.88 - 29.22","Date: 2024-12-30<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-06<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-13<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-20<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-27<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-03<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-10<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-17<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-24<br>95% Intervals:  6.88 - 29.22","Date: 2025-03-03<br>95% Intervals:  6.88 - 29.22"],"color":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"line":{"width":0},"inherit":true},"248812a87b8e":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"legendgroup":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-23<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-30<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-06<br>90% Intervals: 25.05 - 34.70","Date: 2025-01-13<br>90% Intervals: 25.05 - 34.70","Date: 2025-01-20<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-27<br>90% Intervals: 24.66 - 34.83","Date: 2025-02-03<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-10<br>90% Intervals: 24.66 - 34.66","Date: 2025-02-17<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-24<br>90% Intervals: 24.66 - 34.70","Date: 2025-03-03<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-16<br>90% Intervals: 24.02 - 35.72","Date: 2024-12-23<br>90% Intervals: 24.02 - 35.72","Date: 2024-12-30<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-06<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-13<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-20<br>90% Intervals: 23.71 - 35.72","Date: 2025-01-27<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-03<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-10<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-17<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-24<br>90% Intervals: 24.02 - 35.44","Date: 2025-03-03<br>90% Intervals: 24.02 - 35.46","Date: 2024-12-16<br>90% Intervals:  9.12 - 26.78","Date: 2024-12-23<br>90% Intervals:  9.12 - 29.22","Date: 2024-12-30<br>90% Intervals:  9.12 - 26.90","Date: 2025-01-06<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-13<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-20<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-27<br>90% Intervals:  9.12 - 26.78","Date: 2025-02-03<br>90% Intervals:  9.12 - 26.78","Date: 2025-02-10<br>90% Intervals:  9.12 - 26.78","Date: 2025-02-17<br>90% Intervals:  9.12 - 26.46","Date: 2025-02-24<br>90% Intervals:  9.21 - 29.22","Date: 2025-03-03<br>90% Intervals:  9.12 - 26.78"],"color":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"line":{"width":0},"inherit":true},"24884f4036a4":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"legendgroup":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"hoverinfo":"text","hovertext":["Date: 2024-12-16<br>50% Intervals: 27.07 - 32.04","Date: 2024-12-23<br>50% Intervals: 27.07 - 32.03","Date: 2024-12-30<br>50% Intervals: 27.07 - 32.04","Date: 2025-01-06<br>50% Intervals: 27.62 - 32.04","Date: 2025-01-13<br>50% Intervals: 27.20 - 32.04","Date: 2025-01-20<br>50% Intervals: 27.07 - 32.04","Date: 2025-01-27<br>50% Intervals: 27.07 - 32.07","Date: 2025-02-03<br>50% Intervals: 27.07 - 32.03","Date: 2025-02-10<br>50% Intervals: 27.07 - 32.04","Date: 2025-02-17<br>50% Intervals: 27.07 - 32.04","Date: 2025-02-24<br>50% Intervals: 27.07 - 32.04","Date: 2025-03-03<br>50% Intervals: 27.07 - 32.15","Date: 2024-12-16<br>50% Intervals: 27.30 - 32.50","Date: 2024-12-23<br>50% Intervals: 27.30 - 32.39","Date: 2024-12-30<br>50% Intervals: 27.30 - 32.50","Date: 2025-01-06<br>50% Intervals: 27.26 - 32.43","Date: 2025-01-13<br>50% Intervals: 26.89 - 32.43","Date: 2025-01-20<br>50% Intervals: 27.26 - 32.43","Date: 2025-01-27<br>50% Intervals: 27.26 - 33.05","Date: 2025-02-03<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-10<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-17<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-24<br>50% Intervals: 27.26 - 32.43","Date: 2025-03-03<br>50% Intervals: 26.89 - 32.43","Date: 2024-12-16<br>50% Intervals: 15.25 - 23.60","Date: 2024-12-23<br>50% Intervals: 15.25 - 23.26","Date: 2024-12-30<br>50% Intervals: 15.25 - 23.60","Date: 2025-01-06<br>50% Intervals: 15.25 - 23.26","Date: 2025-01-13<br>50% Intervals: 15.28 - 23.60","Date: 2025-01-20<br>50% Intervals: 13.97 - 22.53","Date: 2025-01-27<br>50% Intervals: 15.28 - 23.26","Date: 2025-02-03<br>50% Intervals: 15.28 - 23.60","Date: 2025-02-10<br>50% Intervals: 15.25 - 23.77","Date: 2025-02-17<br>50% Intervals: 15.25 - 23.26","Date: 2025-02-24<br>50% Intervals: 15.25 - 23.60","Date: 2025-03-03<br>50% Intervals: 13.97 - 23.26"],"color":["Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","Constant","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","ARMA","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal","Marginal"],"line":{"width":0},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Date"},"showlegend":true,"yaxis":{"domain":[0,1],"automargin":true,"title":"Value"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2024-01-01","2024-01-08","2024-01-15","2024-01-22","2024-01-29","2024-02-05","2024-02-12","2024-02-19","2024-02-26","2024-03-04","2024-03-11","2024-03-18","2024-03-25","2024-04-01","2024-04-08","2024-04-15","2024-04-22","2024-04-29","2024-05-06","2024-05-13","2024-05-20","2024-05-27","2024-06-03","2024-06-10","2024-06-17","2024-06-24","2024-07-01","2024-07-08","2024-07-15","2024-07-22","2024-07-29","2024-08-05","2024-08-12","2024-08-19","2024-08-26","2024-09-02","2024-09-09","2024-09-16","2024-09-23","2024-09-30","2024-10-07","2024-10-14","2024-10-21","2024-10-28","2024-11-04","2024-11-11","2024-11-18","2024-11-25","2024-12-02","2024-12-09","2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03"],"y":[1.8790487068955743,4.8697720399556328,9.6174166282982476,6.4711438017713458,5.2585754703218921,6.4301299737665625,1.9218324119784058,-2.8602494881352598,-1.8737057037870521,-0.22145095912210888,5.4481635948789204,6.7196276541147268,9.801542901188105,11.551492450812431,11.388317730491851,15.903953292528351,11.995700956458478,5.0667656867407249,8.4027118031273744,4.7242901656219383,3.3643525880263097,6.2339231517612141,6.9479911033855135,10.542217541417717,13.74992146430149,13.956740397437368,20.175574088989048,18.63687325459523,14.723726125976105,17.507629842139867,13.852928442953633,11.07973001509327,13.290251322090045,14.426139956143894,16.643162163274972,19.37728050820018,22.10783530707517,23.206303597768745,23.888074672520165,23.569185016897425,21.610586042158992,20.584165443960806,16.469207296863477,22.00778491175484,19.91592399660998,16.4236558146711,20.194230329401847,23.066689292753559,28.559930236672628,29.163388885978538,31.006637027989509,30.273033508224785,28.91425908541737,29.737204568028922,24.548458028681459,26.702814189936891,20.402494391539559,25.839100480349948,27.247708487689223,30.431883137487919,33.759278965519755,34.32548011270358],"type":"scatter","mode":"lines+markers","line":{"color":"#6e6e6e"},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"name":"target","legendgroup":"target","hovertext":["Date: 2024-01-01<br>target:  1.879049","Date: 2024-01-08<br>target:  4.869772","Date: 2024-01-15<br>target:  9.617417","Date: 2024-01-22<br>target:  6.471144","Date: 2024-01-29<br>target:  5.258575","Date: 2024-02-05<br>target:  6.430130","Date: 2024-02-12<br>target:  1.921832","Date: 2024-02-19<br>target: -2.860249","Date: 2024-02-26<br>target: -1.873706","Date: 2024-03-04<br>target: -0.221451","Date: 2024-03-11<br>target:  5.448164","Date: 2024-03-18<br>target:  6.719628","Date: 2024-03-25<br>target:  9.801543","Date: 2024-04-01<br>target: 11.551492","Date: 2024-04-08<br>target: 11.388318","Date: 2024-04-15<br>target: 15.903953","Date: 2024-04-22<br>target: 11.995701","Date: 2024-04-29<br>target:  5.066766","Date: 2024-05-06<br>target:  8.402712","Date: 2024-05-13<br>target:  4.724290","Date: 2024-05-20<br>target:  3.364353","Date: 2024-05-27<br>target:  6.233923","Date: 2024-06-03<br>target:  6.947991","Date: 2024-06-10<br>target: 10.542218","Date: 2024-06-17<br>target: 13.749921","Date: 2024-06-24<br>target: 13.956740","Date: 2024-07-01<br>target: 20.175574","Date: 2024-07-08<br>target: 18.636873","Date: 2024-07-15<br>target: 14.723726","Date: 2024-07-22<br>target: 17.507630","Date: 2024-07-29<br>target: 13.852928","Date: 2024-08-05<br>target: 11.079730","Date: 2024-08-12<br>target: 13.290251","Date: 2024-08-19<br>target: 14.426140","Date: 2024-08-26<br>target: 16.643162","Date: 2024-09-02<br>target: 19.377281","Date: 2024-09-09<br>target: 22.107835","Date: 2024-09-16<br>target: 23.206304","Date: 2024-09-23<br>target: 23.888075","Date: 2024-09-30<br>target: 23.569185","Date: 2024-10-07<br>target: 21.610586","Date: 2024-10-14<br>target: 20.584165","Date: 2024-10-21<br>target: 16.469207","Date: 2024-10-28<br>target: 22.007785","Date: 2024-11-04<br>target: 19.915924","Date: 2024-11-11<br>target: 16.423656","Date: 2024-11-18<br>target: 20.194230","Date: 2024-11-25<br>target: 23.066689","Date: 2024-12-02<br>target: 28.559930","Date: 2024-12-09<br>target: 29.163389","Date: 2024-12-16<br>target: 31.006637","Date: 2024-12-23<br>target: 30.273034","Date: 2024-12-30<br>target: 28.914259","Date: 2025-01-06<br>target: 29.737205","Date: 2025-01-13<br>target: 24.548458","Date: 2025-01-20<br>target: 26.702814","Date: 2025-01-27<br>target: 20.402494","Date: 2025-02-03<br>target: 25.839100","Date: 2025-02-10<br>target: 27.247708","Date: 2025-02-17<br>target: 30.431883","Date: 2025-02-24<br>target: 33.759279","Date: 2025-03-03<br>target: 34.325480"],"marker":{"color":"#6e6e6e","size":7,"line":{"color":"rgba(31,119,180,1)"}},"showlegend":true,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":"ARMA","legendgroup":"ARMA","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>95% Intervals: 23.71 - 38.36","Date: 2024-12-23<br>95% Intervals: 23.71 - 35.79","Date: 2024-12-30<br>95% Intervals: 23.71 - 35.79","Date: 2025-01-06<br>95% Intervals: 23.71 - 35.79","Date: 2025-01-13<br>95% Intervals: 23.71 - 38.36","Date: 2025-01-20<br>95% Intervals: 23.59 - 35.79","Date: 2025-01-27<br>95% Intervals: 23.71 - 35.79","Date: 2025-02-03<br>95% Intervals: 23.59 - 35.79","Date: 2025-02-10<br>95% Intervals: 23.59 - 35.79","Date: 2025-02-17<br>95% Intervals: 23.71 - 35.79","Date: 2025-02-24<br>95% Intervals: 23.71 - 35.79","Date: 2025-03-03<br>95% Intervals: 23.71 - 35.79","Date: 2025-03-03<br>95% Intervals: 23.71 - 35.79","Date: 2025-02-24<br>95% Intervals: 23.71 - 35.79","Date: 2025-02-17<br>95% Intervals: 23.71 - 35.79","Date: 2025-02-10<br>95% Intervals: 23.59 - 35.79","Date: 2025-02-03<br>95% Intervals: 23.59 - 35.79","Date: 2025-01-27<br>95% Intervals: 23.71 - 35.79","Date: 2025-01-20<br>95% Intervals: 23.59 - 35.79","Date: 2025-01-13<br>95% Intervals: 23.71 - 38.36","Date: 2025-01-06<br>95% Intervals: 23.71 - 35.79","Date: 2024-12-30<br>95% Intervals: 23.71 - 35.79","Date: 2024-12-23<br>95% Intervals: 23.71 - 35.79","Date: 2024-12-16<br>95% Intervals: 23.71 - 38.36"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[23.713657589985008,23.713657570070925,23.713657550156849,23.713657530242767,23.713657510328691,23.593393208335236,23.713657470500532,23.593393168507077,23.593393148593002,23.713657410758291,23.713657390844215,23.713657370930132,35.786228832830844,35.786228852744927,35.786228872659009,35.786228892573092,35.786228912487161,35.786228932401244,35.786228952315327,38.358407901882416,35.786228992143478,35.786229012057561,35.786229031971644,38.358407981538733],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":"Constant","legendgroup":"Constant","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>95% Intervals: 24.38 - 35.38","Date: 2024-12-23<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-30<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-06<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-13<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-20<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-27<br>95% Intervals: 24.38 - 35.38","Date: 2025-02-03<br>95% Intervals: 22.23 - 34.83","Date: 2025-02-10<br>95% Intervals: 22.23 - 34.83","Date: 2025-02-17<br>95% Intervals: 24.38 - 34.85","Date: 2025-02-24<br>95% Intervals: 24.38 - 35.38","Date: 2025-03-03<br>95% Intervals: 24.38 - 34.83","Date: 2025-03-03<br>95% Intervals: 24.38 - 34.83","Date: 2025-02-24<br>95% Intervals: 24.38 - 35.38","Date: 2025-02-17<br>95% Intervals: 24.38 - 34.85","Date: 2025-02-10<br>95% Intervals: 22.23 - 34.83","Date: 2025-02-03<br>95% Intervals: 22.23 - 34.83","Date: 2025-01-27<br>95% Intervals: 24.38 - 35.38","Date: 2025-01-20<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-13<br>95% Intervals: 24.38 - 34.83","Date: 2025-01-06<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-30<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-23<br>95% Intervals: 24.38 - 34.83","Date: 2024-12-16<br>95% Intervals: 24.38 - 35.38"],"line":{"color":"rgba(252,141,98,1)","width":0},"y":[24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,24.381306985864875,22.234453616260787,22.234453616260787,24.381306985864875,24.381306985864875,24.381306985864875,34.833003439979564,35.382222577530214,34.846733918418316,34.833003439979564,34.833003439979564,35.382222577530214,34.833003439979564,34.833003439979564,34.833003439979564,34.833003439979564,34.833003439979564,35.382222577530214],"marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(141,160,203,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":"Marginal","legendgroup":"Marginal","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>95% Intervals:  6.88 - 29.22","Date: 2024-12-23<br>95% Intervals:  6.88 - 29.22","Date: 2024-12-30<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-06<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-13<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-20<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-27<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-03<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-10<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-17<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-24<br>95% Intervals:  6.88 - 29.22","Date: 2025-03-03<br>95% Intervals:  6.88 - 29.22","Date: 2025-03-03<br>95% Intervals:  6.88 - 29.22","Date: 2025-03-03<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-24<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-17<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-10<br>95% Intervals:  6.88 - 29.22","Date: 2025-02-03<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-27<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-20<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-13<br>95% Intervals:  6.88 - 29.22","Date: 2025-01-06<br>95% Intervals:  6.88 - 29.22","Date: 2024-12-30<br>95% Intervals:  6.88 - 29.22","Date: 2024-12-23<br>95% Intervals:  6.88 - 29.22","Date: 2024-12-16<br>95% Intervals:  6.88 - 29.22"],"line":{"color":"rgba(141,160,203,1)","width":0},"y":[6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,6.8832452416819807,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541,29.222690650120541],"marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"ARMA","legendgroup":"ARMA","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>90% Intervals: 24.02 - 35.72","Date: 2024-12-23<br>90% Intervals: 24.02 - 35.72","Date: 2024-12-30<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-06<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-13<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-20<br>90% Intervals: 23.71 - 35.72","Date: 2025-01-27<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-03<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-10<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-17<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-24<br>90% Intervals: 24.02 - 35.44","Date: 2025-03-03<br>90% Intervals: 24.02 - 35.46","Date: 2025-03-03<br>90% Intervals: 24.02 - 35.46","Date: 2025-02-24<br>90% Intervals: 24.02 - 35.44","Date: 2025-02-17<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-10<br>90% Intervals: 24.02 - 35.72","Date: 2025-02-03<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-27<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-20<br>90% Intervals: 23.71 - 35.72","Date: 2025-01-13<br>90% Intervals: 24.02 - 35.72","Date: 2025-01-06<br>90% Intervals: 24.02 - 35.72","Date: 2024-12-30<br>90% Intervals: 24.02 - 35.72","Date: 2024-12-23<br>90% Intervals: 24.02 - 35.72","Date: 2024-12-16<br>90% Intervals: 24.02 - 35.72"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[24.017061745976889,24.017061726062806,24.017061706148731,24.017061686234648,24.017061666320572,23.713657490414608,24.017061626492413,24.017061606578331,24.017061586664255,24.017061566750172,24.017061546836096,24.017061526922014,35.455802027073332,35.441795630518477,35.721923979811585,35.721923999725668,35.721924019639744,35.721924039553826,35.721924059467902,35.721924079381985,35.721924099296061,35.721924119210144,35.721924139124219,35.721924159038302],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"Constant","legendgroup":"Constant","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-23<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-30<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-06<br>90% Intervals: 25.05 - 34.70","Date: 2025-01-13<br>90% Intervals: 25.05 - 34.70","Date: 2025-01-20<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-27<br>90% Intervals: 24.66 - 34.83","Date: 2025-02-03<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-10<br>90% Intervals: 24.66 - 34.66","Date: 2025-02-17<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-24<br>90% Intervals: 24.66 - 34.70","Date: 2025-03-03<br>90% Intervals: 24.66 - 34.70","Date: 2025-03-03<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-24<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-17<br>90% Intervals: 24.66 - 34.70","Date: 2025-02-10<br>90% Intervals: 24.66 - 34.66","Date: 2025-02-03<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-27<br>90% Intervals: 24.66 - 34.83","Date: 2025-01-20<br>90% Intervals: 24.66 - 34.70","Date: 2025-01-13<br>90% Intervals: 25.05 - 34.70","Date: 2025-01-06<br>90% Intervals: 25.05 - 34.70","Date: 2024-12-30<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-23<br>90% Intervals: 24.66 - 34.70","Date: 2024-12-16<br>90% Intervals: 24.66 - 34.70"],"line":{"color":"rgba(252,141,98,1)","width":0},"y":[24.65509132419038,24.65509132419038,24.65509132419038,25.048430738881208,25.048430738881208,24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,24.65509132419038,34.701966500869901,34.701966500869901,34.701966500869901,34.658896663446221,34.701966500869901,34.833003439979564,34.701966500869901,34.701966500869901,34.701966500869901,34.701966500869901,34.701966500869901,34.701966500869901],"marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(141,160,203,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"Marginal","legendgroup":"Marginal","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>90% Intervals:  9.12 - 26.78","Date: 2024-12-23<br>90% Intervals:  9.12 - 29.22","Date: 2024-12-30<br>90% Intervals:  9.12 - 26.90","Date: 2025-01-06<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-13<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-20<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-27<br>90% Intervals:  9.12 - 26.78","Date: 2025-02-03<br>90% Intervals:  9.12 - 26.78","Date: 2025-02-10<br>90% Intervals:  9.12 - 26.78","Date: 2025-02-17<br>90% Intervals:  9.12 - 26.46","Date: 2025-02-24<br>90% Intervals:  9.21 - 29.22","Date: 2025-03-03<br>90% Intervals:  9.12 - 26.78","Date: 2025-03-03<br>90% Intervals:  9.12 - 26.78","Date: 2025-03-03<br>90% Intervals:  9.12 - 26.78","Date: 2025-02-24<br>90% Intervals:  9.21 - 29.22","Date: 2025-02-17<br>90% Intervals:  9.12 - 26.46","Date: 2025-02-10<br>90% Intervals:  9.12 - 26.78","Date: 2025-02-03<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-27<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-20<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-13<br>90% Intervals:  9.12 - 26.78","Date: 2025-01-06<br>90% Intervals:  9.12 - 26.78","Date: 2024-12-30<br>90% Intervals:  9.12 - 26.90","Date: 2024-12-23<br>90% Intervals:  9.12 - 29.22","Date: 2024-12-16<br>90% Intervals:  9.12 - 26.78"],"line":{"color":"rgba(141,160,203,1)","width":0},"y":[9.1228942803857791,9.1228942803857791,9.1228942803857791,9.1228942803857791,9.1228942803857791,9.1228942803857791,9.1228942803857791,9.1228942803857791,9.1228942803857791,9.1228942803857791,9.2101849193351022,9.1228942803857791,9.1228942803857791,26.782493258765857,29.222690650120541,26.456000901458729,26.782493258765857,26.782493258765857,26.782493258765857,26.782493258765857,26.782493258765857,26.782493258765857,26.904503128333481,29.222690650120541,26.782493258765857],"marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"ARMA","legendgroup":"ARMA","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>50% Intervals: 27.30 - 32.50","Date: 2024-12-23<br>50% Intervals: 27.30 - 32.39","Date: 2024-12-30<br>50% Intervals: 27.30 - 32.50","Date: 2025-01-06<br>50% Intervals: 27.26 - 32.43","Date: 2025-01-13<br>50% Intervals: 26.89 - 32.43","Date: 2025-01-20<br>50% Intervals: 27.26 - 32.43","Date: 2025-01-27<br>50% Intervals: 27.26 - 33.05","Date: 2025-02-03<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-10<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-17<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-24<br>50% Intervals: 27.26 - 32.43","Date: 2025-03-03<br>50% Intervals: 26.89 - 32.43","Date: 2025-03-03<br>50% Intervals: 26.89 - 32.43","Date: 2025-02-24<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-17<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-10<br>50% Intervals: 27.26 - 32.43","Date: 2025-02-03<br>50% Intervals: 27.26 - 32.43","Date: 2025-01-27<br>50% Intervals: 27.26 - 33.05","Date: 2025-01-20<br>50% Intervals: 27.26 - 32.43","Date: 2025-01-13<br>50% Intervals: 26.89 - 32.43","Date: 2025-01-06<br>50% Intervals: 27.26 - 32.43","Date: 2024-12-30<br>50% Intervals: 27.30 - 32.50","Date: 2024-12-23<br>50% Intervals: 27.30 - 32.39","Date: 2024-12-16<br>50% Intervals: 27.30 - 32.50"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[27.302030784757164,27.302030764843082,27.302030744929006,27.261351505579555,26.888157990006803,27.261351465751396,27.26135144583732,27.261351425923237,27.261351406009162,27.261351386095079,27.261351366181003,26.888157850608245,32.431306868239105,32.431306888153188,32.431306908067263,32.431306927981346,32.431306947895422,33.054265198976424,32.43130698772358,32.431307007637663,32.431307027551739,32.495153498735526,32.389604678744888,32.495153538563684],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"Constant","legendgroup":"Constant","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>50% Intervals: 27.07 - 32.04","Date: 2024-12-23<br>50% Intervals: 27.07 - 32.03","Date: 2024-12-30<br>50% Intervals: 27.07 - 32.04","Date: 2025-01-06<br>50% Intervals: 27.62 - 32.04","Date: 2025-01-13<br>50% Intervals: 27.20 - 32.04","Date: 2025-01-20<br>50% Intervals: 27.07 - 32.04","Date: 2025-01-27<br>50% Intervals: 27.07 - 32.07","Date: 2025-02-03<br>50% Intervals: 27.07 - 32.03","Date: 2025-02-10<br>50% Intervals: 27.07 - 32.04","Date: 2025-02-17<br>50% Intervals: 27.07 - 32.04","Date: 2025-02-24<br>50% Intervals: 27.07 - 32.04","Date: 2025-03-03<br>50% Intervals: 27.07 - 32.15","Date: 2025-03-03<br>50% Intervals: 27.07 - 32.15","Date: 2025-02-24<br>50% Intervals: 27.07 - 32.04","Date: 2025-02-17<br>50% Intervals: 27.07 - 32.04","Date: 2025-02-10<br>50% Intervals: 27.07 - 32.04","Date: 2025-02-03<br>50% Intervals: 27.07 - 32.03","Date: 2025-01-27<br>50% Intervals: 27.07 - 32.07","Date: 2025-01-20<br>50% Intervals: 27.07 - 32.04","Date: 2025-01-13<br>50% Intervals: 27.20 - 32.04","Date: 2025-01-06<br>50% Intervals: 27.62 - 32.04","Date: 2024-12-30<br>50% Intervals: 27.07 - 32.04","Date: 2024-12-23<br>50% Intervals: 27.07 - 32.03","Date: 2024-12-16<br>50% Intervals: 27.07 - 32.04"],"line":{"color":"rgba(252,141,98,1)","width":0},"y":[27.071527970833678,27.071527970833678,27.071527970833678,27.62468805158472,27.204789911240105,27.071527970833678,27.071527970833678,27.071527970833678,27.071527970833678,27.071527970833678,27.071527970833678,27.071527970833678,32.154112219038595,32.035847849330253,32.035847849330253,32.035847849330253,32.032959449713445,32.065413941757342,32.035847849330253,32.035847849330253,32.035847849330253,32.035847849330253,32.032959449713445,32.035847849330253],"marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(141,160,203,0.5)","x":["2024-12-16","2024-12-23","2024-12-30","2025-01-06","2025-01-13","2025-01-20","2025-01-27","2025-02-03","2025-02-10","2025-02-17","2025-02-24","2025-03-03","2025-03-03","2025-03-03","2025-02-24","2025-02-17","2025-02-10","2025-02-03","2025-01-27","2025-01-20","2025-01-13","2025-01-06","2024-12-30","2024-12-23","2024-12-16"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"Marginal","legendgroup":"Marginal","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-12-16<br>50% Intervals: 15.25 - 23.60","Date: 2024-12-23<br>50% Intervals: 15.25 - 23.26","Date: 2024-12-30<br>50% Intervals: 15.25 - 23.60","Date: 2025-01-06<br>50% Intervals: 15.25 - 23.26","Date: 2025-01-13<br>50% Intervals: 15.28 - 23.60","Date: 2025-01-20<br>50% Intervals: 13.97 - 22.53","Date: 2025-01-27<br>50% Intervals: 15.28 - 23.26","Date: 2025-02-03<br>50% Intervals: 15.28 - 23.60","Date: 2025-02-10<br>50% Intervals: 15.25 - 23.77","Date: 2025-02-17<br>50% Intervals: 15.25 - 23.26","Date: 2025-02-24<br>50% Intervals: 15.25 - 23.60","Date: 2025-03-03<br>50% Intervals: 13.97 - 23.26","Date: 2025-03-03<br>50% Intervals: 13.97 - 23.26","Date: 2025-03-03<br>50% Intervals: 13.97 - 23.26","Date: 2025-02-24<br>50% Intervals: 15.25 - 23.60","Date: 2025-02-17<br>50% Intervals: 15.25 - 23.26","Date: 2025-02-10<br>50% Intervals: 15.25 - 23.77","Date: 2025-02-03<br>50% Intervals: 15.28 - 23.60","Date: 2025-01-27<br>50% Intervals: 15.28 - 23.26","Date: 2025-01-20<br>50% Intervals: 13.97 - 22.53","Date: 2025-01-13<br>50% Intervals: 15.28 - 23.60","Date: 2025-01-06<br>50% Intervals: 15.25 - 23.26","Date: 2024-12-30<br>50% Intervals: 15.25 - 23.60","Date: 2024-12-23<br>50% Intervals: 15.25 - 23.26","Date: 2024-12-16<br>50% Intervals: 15.25 - 23.60"],"line":{"color":"rgba(141,160,203,1)","width":0},"y":[15.25432194526018,15.25432194526018,15.25432194526018,15.25432194526018,15.282117155638691,13.971140981963778,15.282117155638691,15.282117155638691,15.25432194526018,15.25432194526018,15.25432194526018,13.971140981963778,13.971140981963778,23.257654701761709,23.604150865192359,23.257654701761709,23.765919116875317,23.604150865192359,23.257654701761709,22.530172503997058,23.604150865192359,23.257654701761709,23.604150865192359,23.257654701761709,23.604150865192359],"marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="section level2">
<h2 id="working-with-seasonal-data">Working with Seasonal Data<a class="anchor" aria-label="anchor" href="#working-with-seasonal-data"></a>
</h2>
<p>For data with strong seasonal patterns, use seasonal models:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate seasonal data: 15 years training (Jan 2010-Dec 2024) + 1 year test (2025)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">789</span><span class="op">)</span></span>
<span><span class="va">n_total_months</span> <span class="op">&lt;-</span> <span class="fl">192</span>  <span class="co"># 16 years total</span></span>
<span><span class="va">n_train_months</span> <span class="op">&lt;-</span> <span class="fl">180</span>  <span class="co"># 15 years for training</span></span>
<span><span class="va">full_seasonal</span> <span class="op">&lt;-</span> <span class="fl">10</span> <span class="op">+</span> <span class="fl">5</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sin</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n_total_months</span><span class="op">)</span> <span class="op">/</span> <span class="fl">12</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n_total_months</span>, sd <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="va">seasonal_data</span> <span class="op">&lt;-</span> <span class="va">full_seasonal</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">n_train_months</span><span class="op">]</span></span>
<span><span class="va">future_seasonal</span> <span class="op">&lt;-</span> <span class="va">full_seasonal</span><span class="op">[</span><span class="op">(</span><span class="va">n_train_months</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="va">n_total_months</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># STL decomposition model</span></span>
<span><span class="va">stl_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/STLModel.html">STLModel</a></span><span class="op">(</span>s <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">stl_fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_baseline.html">fit_baseline</a></span><span class="op">(</span><span class="va">seasonal_data</span>, <span class="va">stl_model</span><span class="op">)</span></span>
<span></span>
<span><span class="va">stl_fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/forecast.html">forecast</a></span><span class="op">(</span><span class="va">stl_fitted</span>,</span>
<span>  interval_method <span class="op">=</span> <span class="fu"><a href="../reference/EmpiricalInterval.html">EmpiricalInterval</a></span><span class="op">(</span>n_trajectories <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  horizon <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0.90</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  include_median <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  truth <span class="op">=</span> <span class="va">future_seasonal</span>,</span>
<span>  model_name <span class="op">=</span> <span class="st">"STL"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Last Similar Dates model</span></span>
<span><span class="va">lsd_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/LSDModel.html">LSDModel</a></span><span class="op">(</span>window_width <span class="op">=</span> <span class="fl">10</span>, s <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">lsd_fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_baseline.html">fit_baseline</a></span><span class="op">(</span><span class="va">seasonal_data</span>, <span class="va">lsd_model</span><span class="op">)</span></span>
<span><span class="va">lsd_fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/forecast.html">forecast</a></span><span class="op">(</span><span class="va">lsd_fitted</span>,</span>
<span>  interval_method <span class="op">=</span> <span class="fu"><a href="../reference/EmpiricalInterval.html">EmpiricalInterval</a></span><span class="op">(</span>n_trajectories <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  horizon <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="fl">0.90</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  include_median <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  truth <span class="op">=</span> <span class="va">future_seasonal</span>,</span>
<span>  model_name <span class="op">=</span> <span class="st">"LSD"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combine forecasts for hubVis visualization</span></span>
<span><span class="va">stl_quantile</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/as_forecast_quantile.html" class="external-link">as_forecast_quantile</a></span><span class="op">(</span><span class="va">stl_fc</span><span class="op">)</span></span>
<span><span class="va">lsd_quantile</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/as_forecast_quantile.html" class="external-link">as_forecast_quantile</a></span><span class="op">(</span><span class="va">lsd_fc</span><span class="op">)</span></span>
<span><span class="va">combined_quantile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">stl_quantile</span>, <span class="va">lsd_quantile</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert to hubverse format (data from Jan 2010 to Dec 2025)</span></span>
<span><span class="va">seasonal_hubverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_hubverse.html">as_hubverse</a></span><span class="op">(</span></span>
<span>  <span class="va">combined_quantile</span>,</span>
<span>  start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2010-01-01"</span><span class="op">)</span>,</span>
<span>  horizon_unit <span class="op">=</span> <span class="st">"month"</span>,</span>
<span>  observed_data <span class="op">=</span> <span class="va">full_seasonal</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter to show only last 5 years + forecast for cleaner visualization</span></span>
<span><span class="va">cutoff_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span></span>
<span><span class="va">filtered_target</span> <span class="op">&lt;-</span> <span class="va">seasonal_hubverse</span><span class="op">$</span><span class="va">target_data</span><span class="op">[</span><span class="va">seasonal_hubverse</span><span class="op">$</span><span class="va">target_data</span><span class="op">$</span><span class="va">date</span> <span class="op">&gt;=</span> <span class="va">cutoff_date</span>, <span class="op">]</span></span>
<span><span class="va">filtered_output</span> <span class="op">&lt;-</span> <span class="va">seasonal_hubverse</span><span class="op">$</span><span class="va">model_output</span><span class="op">[</span><span class="va">seasonal_hubverse</span><span class="op">$</span><span class="va">model_output</span><span class="op">$</span><span class="va">target_date</span> <span class="op">&gt;=</span> <span class="va">cutoff_date</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Visualize both models with hubVis</span></span>
<span><span class="fu">hubVis</span><span class="fu">::</span><span class="fu"><a href="https://hubverse-org.github.io/hubVis/reference/plot_step_ahead_model_output.html" class="external-link">plot_step_ahead_model_output</a></span><span class="op">(</span></span>
<span>  <span class="va">filtered_output</span>,</span>
<span>  <span class="va">filtered_target</span>,</span>
<span>  intervals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.9</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: <span style="color: #BBBB00;">!</span> `model_out_tbl` must be a `model_out_tbl`. Class</span></span>
<span><span class="co">#&gt; applied by default</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-5b1b2f4ad92281566982" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-5b1b2f4ad92281566982">{"x":{"visdat":{"24883a3291d7":["function () ","plotlyVisDat"],"24882943673e":["function () ","data"],"24889aee8e4":["function () ","data"],"2488597f1e06":["function () ","data"],"2488203e7a18":["function () ","data"]},"cur_data":"2488203e7a18","attrs":{"24882943673e":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2020-01-09","2020-02-08","2020-03-09","2020-04-08","2020-05-08","2020-06-07","2020-07-07","2020-08-06","2020-09-05","2020-10-05","2020-11-04","2020-12-04","2021-01-03","2021-02-02","2021-03-04","2021-04-03","2021-05-03","2021-06-02","2021-07-02","2021-08-01","2021-08-31","2021-09-30","2021-10-30","2021-11-29","2021-12-29","2022-01-28","2022-02-27","2022-03-29","2022-04-28","2022-05-28","2022-06-27","2022-07-27","2022-08-26","2022-09-25","2022-10-25","2022-11-24","2022-12-24","2023-01-23","2023-02-22","2023-03-24","2023-04-23","2023-05-23","2023-06-22","2023-07-22","2023-08-21","2023-09-20","2023-10-20","2023-11-19","2023-12-19","2024-01-18","2024-02-17","2024-03-18","2024-04-17","2024-05-17","2024-06-16","2024-07-16","2024-08-15","2024-09-14","2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09"],"y":{},"type":"scatter","mode":"lines+markers","line":{"color":"#6e6e6e"},"hoverinfo":"text","name":"target","legendgroup":"target","hovertext":["Date: 2020-01-09<br>target: 15.205527","Date: 2020-02-08<br>target: 14.810677","Date: 2020-03-09<br>target: 12.399255","Date: 2020-04-08<br>target: 10.282707","Date: 2020-05-08<br>target:  7.717135","Date: 2020-06-07<br>target:  5.676839","Date: 2020-07-07<br>target:  4.941690","Date: 2020-08-06<br>target:  5.819287","Date: 2020-09-05<br>target:  6.856116","Date: 2020-10-05<br>target: 10.252925","Date: 2020-11-04<br>target: 11.732604","Date: 2020-12-04<br>target: 14.438835","Date: 2021-01-03<br>target: 15.008531","Date: 2021-02-02<br>target: 13.335173","Date: 2021-03-04<br>target: 12.140733","Date: 2021-04-03<br>target: 10.283395","Date: 2021-05-03<br>target:  7.468430","Date: 2021-06-02<br>target:  7.195860","Date: 2021-07-02<br>target:  4.439176","Date: 2021-08-01<br>target:  4.756822","Date: 2021-08-31<br>target:  7.439027","Date: 2021-09-30<br>target: 10.296833","Date: 2021-10-30<br>target: 12.367778","Date: 2021-11-29<br>target: 13.925014","Date: 2021-12-29<br>target: 15.254981","Date: 2022-01-28<br>target: 14.925700","Date: 2022-02-27<br>target: 13.426492","Date: 2022-03-29<br>target:  9.666046","Date: 2022-04-28<br>target:  7.224365","Date: 2022-05-28<br>target:  5.432019","Date: 2022-06-27<br>target:  5.093459","Date: 2022-07-27<br>target:  6.365352","Date: 2022-08-26<br>target:  7.117135","Date: 2022-09-25<br>target: 10.073955","Date: 2022-10-25<br>target: 12.298933","Date: 2022-11-24<br>target: 13.995673","Date: 2022-12-24<br>target: 14.960692","Date: 2023-01-23<br>target: 14.685200","Date: 2023-02-22<br>target: 13.042397","Date: 2023-03-24<br>target:  9.803468","Date: 2023-04-23<br>target:  7.099222","Date: 2023-05-23<br>target:  5.660296","Date: 2023-06-22<br>target:  5.569047","Date: 2023-07-22<br>target:  4.970128","Date: 2023-08-21<br>target:  6.670881","Date: 2023-09-20<br>target:  9.660942","Date: 2023-10-20<br>target: 13.265150","Date: 2023-11-19<br>target: 14.348109","Date: 2023-12-19<br>target: 14.290455","Date: 2024-01-18<br>target: 14.084318","Date: 2024-02-17<br>target: 12.555452","Date: 2024-03-18<br>target: 10.991697","Date: 2024-04-17<br>target:  8.120280","Date: 2024-05-17<br>target:  5.254330","Date: 2024-06-16<br>target:  5.119527","Date: 2024-07-16<br>target:  4.565555","Date: 2024-08-15<br>target:  6.552271","Date: 2024-09-14<br>target: 10.259303","Date: 2024-10-14<br>target: 13.346730","Date: 2024-11-13<br>target: 14.296158","Date: 2024-12-13<br>target: 15.343052","Date: 2025-01-12<br>target: 13.582933","Date: 2025-02-11<br>target: 12.731575","Date: 2025-03-13<br>target: 10.763414","Date: 2025-04-12<br>target:  7.491696","Date: 2025-05-12<br>target:  5.364839","Date: 2025-06-11<br>target:  4.992472","Date: 2025-07-11<br>target:  5.527871","Date: 2025-08-10<br>target:  7.010198","Date: 2025-09-09<br>target:  9.546954"],"marker":{"color":"#6e6e6e","size":7},"showlegend":true,"inherit":true},"24889aee8e4":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"legendgroup":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"hoverinfo":"text","hovertext":["Date: 2024-10-14<br>95% Intervals:  2.88 - 14.08","Date: 2024-11-13<br>95% Intervals:  4.79 - 15.99","Date: 2024-12-13<br>95% Intervals:  5.58 - 16.78","Date: 2025-01-12<br>95% Intervals:  5.02 - 16.22","Date: 2025-02-11<br>95% Intervals:  3.27 - 14.47","Date: 2025-03-13<br>95% Intervals:  0.63 - 11.83","Date: 2025-04-12<br>95% Intervals: -1.90 -  9.30","Date: 2025-05-12<br>95% Intervals: -3.72 -  7.48","Date: 2025-06-11<br>95% Intervals: -4.24 -  6.96","Date: 2025-07-11<br>95% Intervals: -3.73 -  7.47","Date: 2025-08-10<br>95% Intervals: -2.05 -  9.16","Date: 2025-09-09<br>95% Intervals:  0.86 - 12.06","Date: 2024-10-14<br>95% Intervals:  3.56 - 15.39","Date: 2024-11-13<br>95% Intervals:  3.26 - 15.27","Date: 2024-12-13<br>95% Intervals:  3.23 - 15.15","Date: 2025-01-12<br>95% Intervals:  3.29 - 15.12","Date: 2025-02-11<br>95% Intervals:  3.44 - 15.36","Date: 2025-03-13<br>95% Intervals:  3.75 - 15.67","Date: 2025-04-12<br>95% Intervals:  4.14 - 15.99","Date: 2025-05-12<br>95% Intervals:  4.39 - 16.32","Date: 2025-06-11<br>95% Intervals:  4.49 - 16.42","Date: 2025-07-11<br>95% Intervals:  4.44 - 16.29","Date: 2025-08-10<br>95% Intervals:  4.22 - 16.06","Date: 2025-09-09<br>95% Intervals:  3.89 - 15.74"],"color":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"line":{"width":0},"inherit":true},"2488597f1e06":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"legendgroup":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"hoverinfo":"text","hovertext":["Date: 2024-10-14<br>90% Intervals:  3.24 - 13.73","Date: 2024-11-13<br>90% Intervals:  5.14 - 15.63","Date: 2024-12-13<br>90% Intervals:  5.93 - 16.42","Date: 2025-01-12<br>90% Intervals:  5.02 - 15.86","Date: 2025-02-11<br>90% Intervals:  3.62 - 14.11","Date: 2025-03-13<br>90% Intervals:  0.99 - 11.83","Date: 2025-04-12<br>90% Intervals: -1.90 -  8.95","Date: 2025-05-12<br>90% Intervals: -3.37 -  7.12","Date: 2025-06-11<br>90% Intervals: -3.89 -  6.60","Date: 2025-07-11<br>90% Intervals: -3.38 -  7.11","Date: 2025-08-10<br>90% Intervals: -1.69 -  8.80","Date: 2025-09-09<br>90% Intervals:  1.21 - 11.70","Date: 2024-10-14<br>90% Intervals:  3.91 - 15.15","Date: 2024-11-13<br>90% Intervals:  3.81 - 15.02","Date: 2024-12-13<br>90% Intervals:  3.51 - 14.92","Date: 2025-01-12<br>90% Intervals:  3.64 - 14.98","Date: 2025-02-11<br>90% Intervals:  3.60 - 15.06","Date: 2025-03-13<br>90% Intervals:  4.10 - 15.51","Date: 2025-04-12<br>90% Intervals:  4.51 - 15.83","Date: 2025-05-12<br>90% Intervals:  4.74 - 16.08","Date: 2025-06-11<br>90% Intervals:  4.99 - 16.19","Date: 2025-07-11<br>90% Intervals:  4.79 - 16.13","Date: 2025-08-10<br>90% Intervals:  4.56 - 15.90","Date: 2025-09-09<br>90% Intervals:  4.18 - 15.59"],"color":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"line":{"width":0},"inherit":true},"2488203e7a18":{"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09"],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"legendgroup":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"hoverinfo":"text","hovertext":["Date: 2024-10-14<br>50% Intervals:  4.82 - 13.28","Date: 2024-11-13<br>50% Intervals:  5.83 - 15.18","Date: 2024-12-13<br>50% Intervals:  6.62 - 15.57","Date: 2025-01-12<br>50% Intervals:  6.06 - 15.01","Date: 2025-02-11<br>50% Intervals:  5.21 - 13.66","Date: 2025-03-13<br>50% Intervals:  1.68 - 11.03","Date: 2025-04-12<br>50% Intervals: -0.85 -  8.50","Date: 2025-05-12<br>50% Intervals: -1.78 -  6.67","Date: 2025-06-11<br>50% Intervals: -3.20 -  5.75","Date: 2025-07-11<br>50% Intervals: -1.79 -  6.66","Date: 2025-08-10<br>50% Intervals: -1.00 -  8.05","Date: 2025-09-09<br>50% Intervals:  1.90 - 10.85","Date: 2024-10-14<br>50% Intervals:  6.24 - 12.83","Date: 2024-11-13<br>50% Intervals:  5.29 - 12.86","Date: 2024-12-13<br>50% Intervals:  4.97 - 12.75","Date: 2025-01-12<br>50% Intervals:  5.74 - 12.58","Date: 2025-02-11<br>50% Intervals:  5.11 - 12.80","Date: 2025-03-13<br>50% Intervals:  5.43 - 13.11","Date: 2025-04-12<br>50% Intervals:  6.59 - 13.67","Date: 2025-05-12<br>50% Intervals:  6.28 - 13.66","Date: 2025-06-11<br>50% Intervals:  6.46 - 14.29","Date: 2025-07-11<br>50% Intervals:  6.41 - 13.86","Date: 2025-08-10<br>50% Intervals:  5.85 - 13.74","Date: 2025-09-09<br>50% Intervals:  5.48 - 13.34"],"color":["STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","STL","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD","LSD"],"line":{"width":0},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Date"},"showlegend":true,"yaxis":{"domain":[0,1],"automargin":true,"title":"Value"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2020-01-09","2020-02-08","2020-03-09","2020-04-08","2020-05-08","2020-06-07","2020-07-07","2020-08-06","2020-09-05","2020-10-05","2020-11-04","2020-12-04","2021-01-03","2021-02-02","2021-03-04","2021-04-03","2021-05-03","2021-06-02","2021-07-02","2021-08-01","2021-08-31","2021-09-30","2021-10-30","2021-11-29","2021-12-29","2022-01-28","2022-02-27","2022-03-29","2022-04-28","2022-05-28","2022-06-27","2022-07-27","2022-08-26","2022-09-25","2022-10-25","2022-11-24","2022-12-24","2023-01-23","2023-02-22","2023-03-24","2023-04-23","2023-05-23","2023-06-22","2023-07-22","2023-08-21","2023-09-20","2023-10-20","2023-11-19","2023-12-19","2024-01-18","2024-02-17","2024-03-18","2024-04-17","2024-05-17","2024-06-16","2024-07-16","2024-08-15","2024-09-14","2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09"],"y":[15.205526570702116,14.810676816625344,12.399254964859969,10.282707384950372,7.7171354436276358,5.6768393490049149,4.9416898689819426,5.8192872167941916,6.8561164973518212,10.252925422769676,11.732604048608767,14.438834674083925,15.008531134486523,13.335173084107122,12.140733151063129,10.283395268055157,7.4684299261438154,7.195859515073975,4.4391763897137686,4.756821679697488,7.4390273144827841,10.296832505615916,12.367777768710988,13.925013663489983,15.254981377931731,14.92570007411641,13.42649185021493,9.6660458959392894,7.2243650294351625,5.4320194277409177,5.0934585248404805,6.3653521599573386,7.1171347025890688,10.073954676277641,12.298932968682715,13.995673258284294,14.960692087277076,14.685200152660604,13.042396952113513,9.8034678732565084,7.0992218888422629,5.6602955312887699,5.5690474944692996,4.9701278851129986,6.6708814140627304,9.6609423424547085,13.265150470950509,14.34810947972098,14.290455071188159,14.084318378974888,12.555452296460393,10.991696823610084,8.1202804015295182,5.2543298997186492,5.1195274343358257,4.5655552586435606,6.5522712227212736,10.259303459562911,13.34672975454145,14.296158498404081,15.343051933130392,13.582933486588921,12.731574994979722,10.763413599783638,7.4916955943457628,5.3648392443305388,4.9924722315540322,5.5278712921767941,7.0101975143045836,9.5469544534451618],"type":"scatter","mode":"lines+markers","line":{"color":"#6e6e6e"},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"name":"target","legendgroup":"target","hovertext":["Date: 2020-01-09<br>target: 15.205527","Date: 2020-02-08<br>target: 14.810677","Date: 2020-03-09<br>target: 12.399255","Date: 2020-04-08<br>target: 10.282707","Date: 2020-05-08<br>target:  7.717135","Date: 2020-06-07<br>target:  5.676839","Date: 2020-07-07<br>target:  4.941690","Date: 2020-08-06<br>target:  5.819287","Date: 2020-09-05<br>target:  6.856116","Date: 2020-10-05<br>target: 10.252925","Date: 2020-11-04<br>target: 11.732604","Date: 2020-12-04<br>target: 14.438835","Date: 2021-01-03<br>target: 15.008531","Date: 2021-02-02<br>target: 13.335173","Date: 2021-03-04<br>target: 12.140733","Date: 2021-04-03<br>target: 10.283395","Date: 2021-05-03<br>target:  7.468430","Date: 2021-06-02<br>target:  7.195860","Date: 2021-07-02<br>target:  4.439176","Date: 2021-08-01<br>target:  4.756822","Date: 2021-08-31<br>target:  7.439027","Date: 2021-09-30<br>target: 10.296833","Date: 2021-10-30<br>target: 12.367778","Date: 2021-11-29<br>target: 13.925014","Date: 2021-12-29<br>target: 15.254981","Date: 2022-01-28<br>target: 14.925700","Date: 2022-02-27<br>target: 13.426492","Date: 2022-03-29<br>target:  9.666046","Date: 2022-04-28<br>target:  7.224365","Date: 2022-05-28<br>target:  5.432019","Date: 2022-06-27<br>target:  5.093459","Date: 2022-07-27<br>target:  6.365352","Date: 2022-08-26<br>target:  7.117135","Date: 2022-09-25<br>target: 10.073955","Date: 2022-10-25<br>target: 12.298933","Date: 2022-11-24<br>target: 13.995673","Date: 2022-12-24<br>target: 14.960692","Date: 2023-01-23<br>target: 14.685200","Date: 2023-02-22<br>target: 13.042397","Date: 2023-03-24<br>target:  9.803468","Date: 2023-04-23<br>target:  7.099222","Date: 2023-05-23<br>target:  5.660296","Date: 2023-06-22<br>target:  5.569047","Date: 2023-07-22<br>target:  4.970128","Date: 2023-08-21<br>target:  6.670881","Date: 2023-09-20<br>target:  9.660942","Date: 2023-10-20<br>target: 13.265150","Date: 2023-11-19<br>target: 14.348109","Date: 2023-12-19<br>target: 14.290455","Date: 2024-01-18<br>target: 14.084318","Date: 2024-02-17<br>target: 12.555452","Date: 2024-03-18<br>target: 10.991697","Date: 2024-04-17<br>target:  8.120280","Date: 2024-05-17<br>target:  5.254330","Date: 2024-06-16<br>target:  5.119527","Date: 2024-07-16<br>target:  4.565555","Date: 2024-08-15<br>target:  6.552271","Date: 2024-09-14<br>target: 10.259303","Date: 2024-10-14<br>target: 13.346730","Date: 2024-11-13<br>target: 14.296158","Date: 2024-12-13<br>target: 15.343052","Date: 2025-01-12<br>target: 13.582933","Date: 2025-02-11<br>target: 12.731575","Date: 2025-03-13<br>target: 10.763414","Date: 2025-04-12<br>target:  7.491696","Date: 2025-05-12<br>target:  5.364839","Date: 2025-06-11<br>target:  4.992472","Date: 2025-07-11<br>target:  5.527871","Date: 2025-08-10<br>target:  7.010198","Date: 2025-09-09<br>target:  9.546954"],"marker":{"color":"#6e6e6e","size":7,"line":{"color":"rgba(31,119,180,1)"}},"showlegend":true,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2025-09-09","2025-08-10","2025-07-11","2025-06-11","2025-05-12","2025-04-12","2025-03-13","2025-02-11","2025-01-12","2024-12-13","2024-11-13","2024-10-14"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":"LSD","legendgroup":"LSD","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-10-14<br>95% Intervals:  3.56 - 15.39","Date: 2024-11-13<br>95% Intervals:  3.26 - 15.27","Date: 2024-12-13<br>95% Intervals:  3.23 - 15.15","Date: 2025-01-12<br>95% Intervals:  3.29 - 15.12","Date: 2025-02-11<br>95% Intervals:  3.44 - 15.36","Date: 2025-03-13<br>95% Intervals:  3.75 - 15.67","Date: 2025-04-12<br>95% Intervals:  4.14 - 15.99","Date: 2025-05-12<br>95% Intervals:  4.39 - 16.32","Date: 2025-06-11<br>95% Intervals:  4.49 - 16.42","Date: 2025-07-11<br>95% Intervals:  4.44 - 16.29","Date: 2025-08-10<br>95% Intervals:  4.22 - 16.06","Date: 2025-09-09<br>95% Intervals:  3.89 - 15.74","Date: 2025-09-09<br>95% Intervals:  3.89 - 15.74","Date: 2025-08-10<br>95% Intervals:  4.22 - 16.06","Date: 2025-07-11<br>95% Intervals:  4.44 - 16.29","Date: 2025-06-11<br>95% Intervals:  4.49 - 16.42","Date: 2025-05-12<br>95% Intervals:  4.39 - 16.32","Date: 2025-04-12<br>95% Intervals:  4.14 - 15.99","Date: 2025-03-13<br>95% Intervals:  3.75 - 15.67","Date: 2025-02-11<br>95% Intervals:  3.44 - 15.36","Date: 2025-01-12<br>95% Intervals:  3.29 - 15.12","Date: 2024-12-13<br>95% Intervals:  3.23 - 15.15","Date: 2024-11-13<br>95% Intervals:  3.26 - 15.27","Date: 2024-10-14<br>95% Intervals:  3.56 - 15.39"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[3.5595553113682401,3.259798064719666,3.2261951075894464,3.2947148623215639,3.4395333736627585,3.7540856829390297,4.1448608187674383,4.3912232559876827,4.4936944778804211,4.4430682741907992,4.2151524464062033,3.893000720130944,15.744807229796002,16.06336657231774,16.293221108375164,16.422722943779394,16.320601572670228,15.993033602791957,15.671241561131028,15.356689251854757,15.123977973963525,15.153569898007722,15.270149980648277,15.388777081123184],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.5)","x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2025-09-09","2025-09-09","2025-08-10","2025-07-11","2025-06-11","2025-05-12","2025-04-12","2025-03-13","2025-02-11","2025-01-12","2024-12-13","2024-11-13","2024-10-14"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":true,"name":"STL","legendgroup":"STL","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-10-14<br>95% Intervals:  2.88 - 14.08","Date: 2024-11-13<br>95% Intervals:  4.79 - 15.99","Date: 2024-12-13<br>95% Intervals:  5.58 - 16.78","Date: 2025-01-12<br>95% Intervals:  5.02 - 16.22","Date: 2025-02-11<br>95% Intervals:  3.27 - 14.47","Date: 2025-03-13<br>95% Intervals:  0.63 - 11.83","Date: 2025-04-12<br>95% Intervals: -1.90 -  9.30","Date: 2025-05-12<br>95% Intervals: -3.72 -  7.48","Date: 2025-06-11<br>95% Intervals: -4.24 -  6.96","Date: 2025-07-11<br>95% Intervals: -3.73 -  7.47","Date: 2025-08-10<br>95% Intervals: -2.05 -  9.16","Date: 2025-09-09<br>95% Intervals:  0.86 - 12.06","Date: 2025-09-09<br>95% Intervals:  0.86 - 12.06","Date: 2025-09-09<br>95% Intervals:  0.86 - 12.06","Date: 2025-08-10<br>95% Intervals: -2.05 -  9.16","Date: 2025-07-11<br>95% Intervals: -3.73 -  7.47","Date: 2025-06-11<br>95% Intervals: -4.24 -  6.96","Date: 2025-05-12<br>95% Intervals: -3.72 -  7.48","Date: 2025-04-12<br>95% Intervals: -1.90 -  9.30","Date: 2025-03-13<br>95% Intervals:  0.63 - 11.83","Date: 2025-02-11<br>95% Intervals:  3.27 - 14.47","Date: 2025-01-12<br>95% Intervals:  5.02 - 16.22","Date: 2024-12-13<br>95% Intervals:  5.58 - 16.78","Date: 2024-11-13<br>95% Intervals:  4.79 - 15.99","Date: 2024-10-14<br>95% Intervals:  2.88 - 14.08"],"line":{"color":"rgba(252,141,98,1)","width":0},"y":[2.8803667231251371,4.7853910774728501,5.5775042740015657,5.0173776737220734,3.2665047577627675,0.63302535387860637,-1.896211970854738,-3.7217380042544033,-4.2410105870446495,-3.7324134423852602,-2.0454173087600047,0.85558294373863575,0.85558294373863575,12.056119122351806,9.1551188698531654,7.4681227362279099,6.9595255915685206,7.4787981743587668,9.3043242077584321,11.833561532491776,14.467040936375938,16.217913852335244,16.778040452614736,15.98592725608602,14.080902901738307],"marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2025-09-09","2025-08-10","2025-07-11","2025-06-11","2025-05-12","2025-04-12","2025-03-13","2025-02-11","2025-01-12","2024-12-13","2024-11-13","2024-10-14"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"LSD","legendgroup":"LSD","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-10-14<br>90% Intervals:  3.91 - 15.15","Date: 2024-11-13<br>90% Intervals:  3.81 - 15.02","Date: 2024-12-13<br>90% Intervals:  3.51 - 14.92","Date: 2025-01-12<br>90% Intervals:  3.64 - 14.98","Date: 2025-02-11<br>90% Intervals:  3.60 - 15.06","Date: 2025-03-13<br>90% Intervals:  4.10 - 15.51","Date: 2025-04-12<br>90% Intervals:  4.51 - 15.83","Date: 2025-05-12<br>90% Intervals:  4.74 - 16.08","Date: 2025-06-11<br>90% Intervals:  4.99 - 16.19","Date: 2025-07-11<br>90% Intervals:  4.79 - 16.13","Date: 2025-08-10<br>90% Intervals:  4.56 - 15.90","Date: 2025-09-09<br>90% Intervals:  4.18 - 15.59","Date: 2025-09-09<br>90% Intervals:  4.18 - 15.59","Date: 2025-08-10<br>90% Intervals:  4.56 - 15.90","Date: 2025-07-11<br>90% Intervals:  4.79 - 16.13","Date: 2025-06-11<br>90% Intervals:  4.99 - 16.19","Date: 2025-05-12<br>90% Intervals:  4.74 - 16.08","Date: 2025-04-12<br>90% Intervals:  4.51 - 15.83","Date: 2025-03-13<br>90% Intervals:  4.10 - 15.51","Date: 2025-02-11<br>90% Intervals:  3.60 - 15.06","Date: 2025-01-12<br>90% Intervals:  3.64 - 14.98","Date: 2024-12-13<br>90% Intervals:  3.51 - 14.92","Date: 2024-11-13<br>90% Intervals:  3.81 - 15.02","Date: 2024-10-14<br>90% Intervals:  3.91 - 15.15"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[3.9067714951666845,3.8129115272070235,3.5087833962160406,3.6419723880070256,3.5963791920207386,4.1047253117717073,4.5097396311977764,4.7400931152668244,4.9868194107443262,4.7902844579892436,4.5624099720916655,4.1772426842382355,15.589897484377163,15.898202726926089,16.131757179082022,16.188539929186895,16.076169868414162,15.83354972365866,15.511757681997731,15.06205020906558,14.977765142841449,14.919386883415223,15.021972934712922,15.149129938460007],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.5)","x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2025-09-09","2025-09-09","2025-08-10","2025-07-11","2025-06-11","2025-05-12","2025-04-12","2025-03-13","2025-02-11","2025-01-12","2024-12-13","2024-11-13","2024-10-14"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"STL","legendgroup":"STL","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-10-14<br>90% Intervals:  3.24 - 13.73","Date: 2024-11-13<br>90% Intervals:  5.14 - 15.63","Date: 2024-12-13<br>90% Intervals:  5.93 - 16.42","Date: 2025-01-12<br>90% Intervals:  5.02 - 15.86","Date: 2025-02-11<br>90% Intervals:  3.62 - 14.11","Date: 2025-03-13<br>90% Intervals:  0.99 - 11.83","Date: 2025-04-12<br>90% Intervals: -1.90 -  8.95","Date: 2025-05-12<br>90% Intervals: -3.37 -  7.12","Date: 2025-06-11<br>90% Intervals: -3.89 -  6.60","Date: 2025-07-11<br>90% Intervals: -3.38 -  7.11","Date: 2025-08-10<br>90% Intervals: -1.69 -  8.80","Date: 2025-09-09<br>90% Intervals:  1.21 - 11.70","Date: 2025-09-09<br>90% Intervals:  1.21 - 11.70","Date: 2025-09-09<br>90% Intervals:  1.21 - 11.70","Date: 2025-08-10<br>90% Intervals: -1.69 -  8.80","Date: 2025-07-11<br>90% Intervals: -3.38 -  7.11","Date: 2025-06-11<br>90% Intervals: -3.89 -  6.60","Date: 2025-05-12<br>90% Intervals: -3.37 -  7.12","Date: 2025-04-12<br>90% Intervals: -1.90 -  8.95","Date: 2025-03-13<br>90% Intervals:  0.99 - 11.83","Date: 2025-02-11<br>90% Intervals:  3.62 - 14.11","Date: 2025-01-12<br>90% Intervals:  5.02 - 15.86","Date: 2024-12-13<br>90% Intervals:  5.93 - 16.42","Date: 2024-11-13<br>90% Intervals:  5.14 - 15.63","Date: 2024-10-14<br>90% Intervals:  3.24 - 13.73"],"line":{"color":"rgba(252,141,98,1)","width":0},"y":[3.2363452444726439,5.1413695988203569,5.9334827953490725,5.0173776737220734,3.6224832791102743,0.98900387522611322,-1.896211970854738,-3.3657594829068964,-3.8850320656971427,-3.3764349210377533,-1.6894387874124979,1.2115614650861426,1.2115614650861426,11.701321286674732,8.8003210341760916,7.1133249005508361,6.6047277558914468,7.124000338681693,8.9495263720813583,11.833561532491776,14.112243100698864,15.86311601665817,16.423242616937664,15.631129420408946,13.726105066061233],"marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,194,165,0.5)","x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2025-09-09","2025-08-10","2025-07-11","2025-06-11","2025-05-12","2025-04-12","2025-03-13","2025-02-11","2025-01-12","2024-12-13","2024-11-13","2024-10-14"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"LSD","legendgroup":"LSD","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-10-14<br>50% Intervals:  6.24 - 12.83","Date: 2024-11-13<br>50% Intervals:  5.29 - 12.86","Date: 2024-12-13<br>50% Intervals:  4.97 - 12.75","Date: 2025-01-12<br>50% Intervals:  5.74 - 12.58","Date: 2025-02-11<br>50% Intervals:  5.11 - 12.80","Date: 2025-03-13<br>50% Intervals:  5.43 - 13.11","Date: 2025-04-12<br>50% Intervals:  6.59 - 13.67","Date: 2025-05-12<br>50% Intervals:  6.28 - 13.66","Date: 2025-06-11<br>50% Intervals:  6.46 - 14.29","Date: 2025-07-11<br>50% Intervals:  6.41 - 13.86","Date: 2025-08-10<br>50% Intervals:  5.85 - 13.74","Date: 2025-09-09<br>50% Intervals:  5.48 - 13.34","Date: 2025-09-09<br>50% Intervals:  5.48 - 13.34","Date: 2025-08-10<br>50% Intervals:  5.85 - 13.74","Date: 2025-07-11<br>50% Intervals:  6.41 - 13.86","Date: 2025-06-11<br>50% Intervals:  6.46 - 14.29","Date: 2025-05-12<br>50% Intervals:  6.28 - 13.66","Date: 2025-04-12<br>50% Intervals:  6.59 - 13.67","Date: 2025-03-13<br>50% Intervals:  5.43 - 13.11","Date: 2025-02-11<br>50% Intervals:  5.11 - 12.80","Date: 2025-01-12<br>50% Intervals:  5.74 - 12.58","Date: 2024-12-13<br>50% Intervals:  4.97 - 12.75","Date: 2024-11-13<br>50% Intervals:  5.29 - 12.86","Date: 2024-10-14<br>50% Intervals:  6.24 - 12.83"],"line":{"color":"rgba(102,194,165,1)","width":0},"y":[6.2370965365718538,5.2938522480379477,4.9717439046810119,5.739048416166538,5.1059760280694535,5.4299805954438263,6.5891530307253952,6.2820666663081974,6.4604192425119207,6.4081393633416015,5.8464437040711523,5.4830673392030445,13.33738516600363,13.737746733455671,13.859191652992633,14.291206176056107,13.659642054558375,13.667413763929888,13.113250854131788,12.798698544855517,12.58493828123386,12.748748052751896,12.860413487361763,12.826320434458236],"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.5)","x":["2024-10-14","2024-11-13","2024-12-13","2025-01-12","2025-02-11","2025-03-13","2025-04-12","2025-05-12","2025-06-11","2025-07-11","2025-08-10","2025-09-09","2025-09-09","2025-09-09","2025-08-10","2025-07-11","2025-06-11","2025-05-12","2025-04-12","2025-03-13","2025-02-11","2025-01-12","2024-12-13","2024-11-13","2024-10-14"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","opacity":0.25,"showlegend":false,"name":"STL","legendgroup":"STL","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["Date: 2024-10-14<br>50% Intervals:  4.82 - 13.28","Date: 2024-11-13<br>50% Intervals:  5.83 - 15.18","Date: 2024-12-13<br>50% Intervals:  6.62 - 15.57","Date: 2025-01-12<br>50% Intervals:  6.06 - 15.01","Date: 2025-02-11<br>50% Intervals:  5.21 - 13.66","Date: 2025-03-13<br>50% Intervals:  1.68 - 11.03","Date: 2025-04-12<br>50% Intervals: -0.85 -  8.50","Date: 2025-05-12<br>50% Intervals: -1.78 -  6.67","Date: 2025-06-11<br>50% Intervals: -3.20 -  5.75","Date: 2025-07-11<br>50% Intervals: -1.79 -  6.66","Date: 2025-08-10<br>50% Intervals: -1.00 -  8.05","Date: 2025-09-09<br>50% Intervals:  1.90 - 10.85","Date: 2025-09-09<br>50% Intervals:  1.90 - 10.85","Date: 2025-09-09<br>50% Intervals:  1.90 - 10.85","Date: 2025-08-10<br>50% Intervals: -1.00 -  8.05","Date: 2025-07-11<br>50% Intervals: -1.79 -  6.66","Date: 2025-06-11<br>50% Intervals: -3.20 -  5.75","Date: 2025-05-12<br>50% Intervals: -1.78 -  6.67","Date: 2025-04-12<br>50% Intervals: -0.85 -  8.50","Date: 2025-03-13<br>50% Intervals:  1.68 - 11.03","Date: 2025-02-11<br>50% Intervals:  5.21 - 13.66","Date: 2025-01-12<br>50% Intervals:  6.06 - 15.01","Date: 2024-12-13<br>50% Intervals:  6.62 - 15.57","Date: 2024-11-13<br>50% Intervals:  5.83 - 15.18","Date: 2024-10-14<br>50% Intervals:  4.82 - 13.28"],"line":{"color":"rgba(252,141,98,1)","width":0},"y":[4.8200292316573377,5.8277476014600511,6.6198607979887667,6.0597341977092745,5.2061672662949681,1.6753818778658074,-0.853855446867537,-1.7820754957222027,-3.1986540630574485,-1.7927509338530596,-1.0030607847728037,1.8979394677258368,1.8979394677258368,10.851360218337879,8.0502522112215775,6.6629328137433408,5.7547666875545938,6.6736082518741977,8.4991342852738629,11.028371610007207,13.661851013891368,15.013154948321317,15.573281548600809,15.180737333601451,13.275712979253738],"marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="data-transformations">Data Transformations<a class="anchor" aria-label="anchor" href="#data-transformations"></a>
</h2>
<p>For data with non-constant variance or non-negativity constraints,
use transformations.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: exponential growth (log transform stabilizes variance)</span></span>
<span><span class="va">data_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, mean <span class="op">=</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1. Transform data</span></span>
<span><span class="va">log_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">data_exp</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Fit model on transformed scale</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ConstantModel.html">ConstantModel</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_baseline.html">fit_baseline</a></span><span class="op">(</span><span class="va">log_data</span>, <span class="va">model</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Forecast on transformed scale</span></span>
<span><span class="va">fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/forecast.html">forecast</a></span><span class="op">(</span><span class="va">fitted</span>,</span>
<span>  interval_method <span class="op">=</span> <span class="fu"><a href="../reference/NoInterval.html">NoInterval</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  horizon <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. Back-transform to original scale</span></span>
<span><span class="va">fc</span><span class="op">$</span><span class="va">mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">fc</span><span class="op">$</span><span class="va">mean</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Now fc$mean is in the original scale</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fc</span><span class="op">$</span><span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 5.863768 5.863768 5.863768 5.863768 5.863768 5.863768 5.863768 5.863768</span></span>
<span><span class="co">#&gt;  [9] 5.863768 5.863768 5.863768 5.863768</span></span></code></pre></div>
<p>See <code><a href="../articles/transformations.html">vignette("transformations")</a></code> for detailed guidance on
transformations.</p>
</div>
<div class="section level2">
<h2 id="utility-functions">Utility Functions<a class="anchor" aria-label="anchor" href="#utility-functions"></a>
</h2>
<p><a href="https://github.com/epiforecasts/forecastbaselines" class="external-link">forecastbaselines</a> provides helpful utilities for
working with forecast objects:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check what components are available</span></span>
<span><span class="fu"><a href="../reference/has_mean.html">has_mean</a></span><span class="op">(</span><span class="va">fc</span><span class="op">)</span> <span class="co"># TRUE</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/has_median.html">has_median</a></span><span class="op">(</span><span class="va">fc</span><span class="op">)</span> <span class="co"># FALSE (not requested)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/has_truth.html">has_truth</a></span><span class="op">(</span><span class="va">fc</span><span class="op">)</span> <span class="co"># FALSE (not provided)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span></span>
<span><span class="co"># Add components</span></span>
<span><span class="va">median_vals</span> <span class="op">&lt;-</span> <span class="va">fc</span><span class="op">$</span><span class="va">mean</span> <span class="co"># For demo, use mean as median</span></span>
<span><span class="va">fc_with_median</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_median.html">add_median</a></span><span class="op">(</span><span class="va">fc</span>, <span class="va">median_vals</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/has_median.html">has_median</a></span><span class="op">(</span><span class="va">fc_with_median</span><span class="op">)</span> <span class="co"># TRUE</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="co"># Add truth values for scoring</span></span>
<span><span class="va">fc_with_truth</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_truth.html">add_truth</a></span><span class="op">(</span><span class="va">fc</span>, <span class="va">truth</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/has_truth.html">has_truth</a></span><span class="op">(</span><span class="va">fc_with_truth</span><span class="op">)</span> <span class="co"># TRUE</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="co"># Filter/subset forecasts</span></span>
<span><span class="va">fc_short</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/truncate_horizon.html">truncate_horizon</a></span><span class="op">(</span><span class="va">fc</span>, max_h <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">fc_selected</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_horizons.html">filter_horizons</a></span><span class="op">(</span><span class="va">fc</span>, horizons <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<p>Now that you’ve learned the basics, explore:</p>
<ol style="list-style-type: decimal">
<li><p><code><a href="../articles/forecast-models.html">vignette("forecast-models")</a></code> - Detailed guide to all
10 models, when to use each, and their parameters</p></li>
<li><p><code><a href="../articles/transformations.html">vignette("transformations")</a></code> - Guide to data
transformations with examples</p></li>
<li><p>Package documentation - Run <code>?forecastbaselines</code> or
<code><a href="https://rdrr.io/pkg/forecastbaselines/man" class="external-link">help(package = "forecastbaselines")</a></code></p></li>
<li><p>Examples - Check the <code>examples/</code> directory in the
package for complete workflows</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="quick-reference">Quick Reference<a class="anchor" aria-label="anchor" href="#quick-reference"></a>
</h2>
<div class="section level3">
<h3 id="basic-workflow">Basic Workflow<a class="anchor" aria-label="anchor" href="#basic-workflow"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Setup (once)</span></span>
<span><span class="fu"><a href="../reference/setup_ForecastBaselines.html">setup_ForecastBaselines</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Create model</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ARMAModel.html">ARMAModel</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">2</span>, q <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Fit to data</span></span>
<span><span class="va">fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_baseline.html">fit_baseline</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">model</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. Generate forecasts</span></span>
<span><span class="va">fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/forecast.html">forecast</a></span><span class="op">(</span><span class="va">fitted</span>,</span>
<span>  interval_method <span class="op">=</span> <span class="fu"><a href="../reference/EmpiricalInterval.html">EmpiricalInterval</a></span><span class="op">(</span>n_trajectories <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  horizon <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,</span>
<span>  levels <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  truth <span class="op">=</span> <span class="va">truth_values</span>,</span>
<span>  model_name <span class="op">=</span> <span class="st">"ARMA(2,1)"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 5. Score forecasts</span></span>
<span><span class="va">fc_point</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/as_forecast_point.html" class="external-link">as_forecast_point</a></span><span class="op">(</span><span class="va">fc</span><span class="op">)</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/score.html" class="external-link">score</a></span><span class="op">(</span><span class="va">fc_point</span><span class="op">)</span></span>
<span><span class="va">scores_summary</span> <span class="op">&lt;-</span> <span class="fu">scoringutils</span><span class="fu">::</span><span class="fu"><a href="https://epiforecasts.io/scoringutils/reference/summarise_scores.html" class="external-link">summarise_scores</a></span><span class="op">(</span><span class="va">scores</span>, by <span class="op">=</span> <span class="st">"model"</span><span class="op">)</span></span>
<span><span class="va">mae</span> <span class="op">&lt;-</span> <span class="va">scores_summary</span><span class="op">$</span><span class="va">ae_point</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="common-models">Common Models<a class="anchor" aria-label="anchor" href="#common-models"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simple</span></span>
<span><span class="fu"><a href="../reference/ConstantModel.html">ConstantModel</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Naive forecast</span></span>
<span><span class="fu"><a href="../reference/MarginalModel.html">MarginalModel</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Sample from marginal distribution</span></span>
<span></span>
<span><span class="co"># Seasonal</span></span>
<span><span class="fu"><a href="../reference/STLModel.html">STLModel</a></span><span class="op">(</span>s <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> <span class="co"># Monthly seasonality</span></span>
<span><span class="fu"><a href="../reference/LSDModel.html">LSDModel</a></span><span class="op">(</span>window_width <span class="op">=</span> <span class="fl">10</span>, s <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> <span class="co"># Last similar dates</span></span>
<span></span>
<span><span class="co"># Time Series</span></span>
<span><span class="fu"><a href="../reference/ARMAModel.html">ARMAModel</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">2</span>, q <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># ARMA</span></span>
<span><span class="fu"><a href="../reference/ETSModel.html">ETSModel</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Exponential smoothing</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Model help</span></span>
<span><span class="op">?</span><span class="va">ARMAModel</span></span>
<span><span class="op">?</span><span class="va">forecast</span></span>
<span></span>
<span><span class="co"># Scoring rules</span></span>
<span><span class="op">?</span><span class="va">MAE</span></span>
<span><span class="op">?</span><span class="va">CRPS</span></span>
<span></span>
<span><span class="co"># Package overview</span></span>
<span><span class="op">?</span><span class="va">forecastbaselines</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<p>Julia not found:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Specify Julia path manually</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>JULIA_HOME <span class="op">=</span> <span class="st">"/path/to/julia/bin"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/setup_ForecastBaselines.html">setup_ForecastBaselines</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Package not loading:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check if Julia is set up</span></span>
<span><span class="fu"><a href="../reference/is_setup.html">is_setup</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Should return TRUE</span></span>
<span></span>
<span><span class="co"># Re-run setup if needed</span></span>
<span><span class="fu"><a href="../reference/setup_ForecastBaselines.html">setup_ForecastBaselines</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Getting errors during forecasting:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check your data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="co"># No NAs or infinite values?</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="co"># Enough observations?</span></span>
<span></span>
<span><span class="co"># Check model parameters</span></span>
<span><span class="co"># e.g., ARMA needs p + q &lt; length(data)</span></span></code></pre></div>
<p>For more help, see the <a href="https://github.com/epiforecasts/forecastbaselines/issues" class="external-link">GitHub
Issues</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Manuel Stapper, Sebastian Funk.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
